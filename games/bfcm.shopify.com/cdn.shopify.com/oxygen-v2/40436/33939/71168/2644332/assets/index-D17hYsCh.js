import{q as oi}from"./components-BLYXEVDR.js";var Vn={},mn={exports:{}},ai=mn.exports,Lr;function si(){return Lr||(Lr=1,function(Ie,T){(function(Ft,ke){Ie.exports=ke()})(ai,()=>(()=>{var Ne=[,(ve,ee,Z)=>{Z.r(ee),Z.d(ee,{default:()=>re});var ne=(()=>{var te=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return function(H={}){var c=H,Fe,Ce;c.ready=new Promise((e,t)=>{Fe=e,Ce=t});function Ue(){function e(f){const v=i;n=t=0,i=new Map,v.forEach(w=>{try{w(f)}catch(m){console.error(m)}}),this.ob(),a&&a.Qb()}let t=0,n=0,i=new Map,a=null,u=null;this.requestAnimationFrame=function(f){t||(t=requestAnimationFrame(e.bind(this)));const v=++n;return i.set(v,f),v},this.cancelAnimationFrame=function(f){i.delete(f),t&&i.size==0&&(cancelAnimationFrame(t),t=0)},this.Ob=function(f){u&&(document.body.remove(u),u=null),f||(u=document.createElement("div"),u.style.backgroundColor="black",u.style.position="fixed",u.style.right=0,u.style.top=0,u.style.color="white",u.style.padding="4px",u.innerHTML="RIVE FPS",f=function(v){u.innerHTML="RIVE FPS "+v.toFixed(1)},document.body.appendChild(u)),a=new function(){let v=0,w=0;this.Qb=function(){var m=performance.now();w?(++v,m-=w,1e3<m&&(f(1e3*v/m),v=w=0)):(w=m,v=0)}}},this.ob=function(){}}function de(){console.assert(!0);const e=new Map;let t=-1/0;this.push=function(n){return n=n+255>>8,e.has(n)&&clearTimeout(e.get(n)),e.set(n,setTimeout(function(){e.delete(n),e.length==0?t=-1/0:n==t&&(t=Math.max(...e.keys()),console.assert(t<n))},1e3)),t=Math.max(n,t),t<<8}}const ue=c.onRuntimeInitialized;c.onRuntimeInitialized=function(){ue&&ue();let e=c.decodeAudio;c.decodeAudio=function(a,u){a=e(a),u(a)};let t=c.decodeFont;c.decodeFont=function(a,u){a=t(a),u(a)};const n=c.FileAssetLoader;c.ptrToAsset=a=>{let u=c.ptrToFileAsset(a);return u.isImage?c.ptrToImageAsset(a):u.isFont?c.ptrToFontAsset(a):u.isAudio?c.ptrToAudioAsset(a):u},c.CustomFileAssetLoader=n.extend("CustomFileAssetLoader",{__construct:function({loadContents:a}){this.__parent.__construct.call(this),this.Eb=a},loadContents:function(a,u){return a=c.ptrToAsset(a),this.Eb(a,u)}}),c.CDNFileAssetLoader=n.extend("CDNFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this)},loadContents:function(a){let u=c.ptrToAsset(a);return a=u.cdnUuid,a===""?!1:(function(f,v){var w=new XMLHttpRequest;w.responseType="arraybuffer",w.onreadystatechange=function(){w.readyState==4&&w.status==200&&v(w)},w.open("GET",f,!0),w.send(null)}(u.cdnBaseUrl+"/"+a,f=>{u.decode(new Uint8Array(f.response))}),!0)}}),c.FallbackFileAssetLoader=n.extend("FallbackFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this),this.kb=[]},addLoader:function(a){this.kb.push(a)},loadContents:function(a,u){for(let f of this.kb)if(f.loadContents(a,u))return!0;return!1}});let i=c.computeAlignment;c.computeAlignment=function(a,u,f,v,w=1){return i.call(this,a,u,f,v,w)}};const Ee=c.onRuntimeInitialized;c.onRuntimeInitialized=function(){function e(P){this.F=P,this.Db=P.getContext("2d"),this.Gb=i,this.S=[],this.la=0,this.clear=function(){console.assert(this.la==0),this.S=[],a.delete(this)},this.save=function(){++this.la,this.S.push(i.save.bind(i))},this.restore=function(){0<this.la&&(this.S.push(i.restore.bind(i)),--this.la)},this.transform=function(O){this.S.push(i.transform.bind(i,O))},this.align=function(O,N,G,K,_e=1){this.S.push(i.align.bind(i,O,N,G,K,_e))},this.flush=function(){console.assert(this.la==0),a.add(this),i.$a||n()},this.delete=function(){}}function t(P,O=!1){var N={alpha:!0,depth:O,stencil:O,antialias:O,premultipliedAlpha:!0,preserveDrawingBuffer:0,powerPreference:"high-performance",failIfMajorPerformanceCaveat:0,enableExtensionsByDefault:!1,explicitSwapControl:0,renderViaOffscreenBackBuffer:0};if(O=P.getContext("webgl2",N),!O)return null;N=ti(O,N),kn(N);const G=u(P.width,P.height);G.Na=N,G.F=P,G.Oa=P.width,G.ab=P.height,G.T=O;var K=G.delete;return G.delete=function(){K.call(this);var _e=this.Na;ot===Te[_e]&&(ot=null),typeof JSEvents=="object"&&JSEvents.Oc(Te[_e].C.canvas),Te[_e]&&Te[_e].C.canvas&&(Te[_e].C.canvas.Cb=void 0),this.Na=this.F=this.Oa=this.T=Te[_e]=null},G}function n(){if(i){var P=i.Fb,O=0,N=0,G=0,K=Array(a.size),_e=0;for(var Ae of a)Ae.ga=Math.min(Ae.F.width,P),Ae.fa=Math.min(Ae.F.height,P),Ae.La=Ae.fa*Ae.ga,O=Math.max(O,Ae.ga),N=Math.max(N,Ae.fa),G+=Ae.La,K[_e++]=Ae;if(a.clear(),!(0>=G)){for(O=1<<(0>=O?0:32-Math.clz32(O-1)),N=1<<(0>=N?0:32-Math.clz32(N-1));N*O<G;)O<=N?O*=2:N*=2;for(O=Math.min(O,P),O=Math.min(N,P),K.sort((vt,jn)=>jn.La-vt.La),G=new c.DynamicRectanizer(P),Ae=0;Ae<K.length;){for(G.reset(O,N),_e=Ae;_e<K.length;++_e){var Re=K[_e],me=G.addRect(Re.ga,Re.fa);if(0>me){console.assert(_e>Ae);break}Re.ra=me&65535,Re.sa=me>>16}for(Re=w.push(G.drawWidth()),me=m.push(G.drawHeight()),console.assert(Re>=G.drawWidth()),console.assert(me>=G.drawHeight()),console.assert(Re<=P),console.assert(me<=P),i.F.width!=Re&&(i.F.width=Re),i.F.height!=me&&(i.F.height=me),i.clear(),Re=Ae;Re<_e;++Re){me=K[Re],i.saveClipRect(me.ra,me.sa,me.ra+me.ga,me.sa+me.fa);let vt=new c.Mat2D;vt.xx=me.ga/me.F.width,vt.yy=me.fa/me.F.height,vt.xy=vt.yx=0,vt.tx=me.ra,vt.ty=me.sa,i.transform(vt);for(const jn of me.S)jn();i.restoreClipRect(),me.S=[]}for(i.flush();Ae<_e;++Ae)Re=K[Ae],me=Re.Db,me.globalCompositeOperation="copy",me.drawImage(i.F,Re.ra,Re.sa,Re.ga,Re.fa,0,0,Re.F.width,Re.F.height);Ae=_e}}}}Ee&&Ee();let i=null;const a=new Set,u=c.makeRenderer;c.makeRenderer=function(P,O){if(!i){let N=function(G){var K=document.createElement("canvas");return K.width=1,K.height=1,i=t(K,G),i.$a=!!i.T.getExtension("WEBGL_shader_pixel_local_storage"),i.Fb=Math.min(i.T.getParameter(i.T.MAX_RENDERBUFFER_SIZE),i.T.getParameter(i.T.MAX_TEXTURE_SIZE)),i.Ma=!i.$a,(G=i.T.getExtension("WEBGL_debug_renderer_info"))&&(K=i.T.getParameter(G.UNMASKED_RENDERER_WEBGL),i.T.getParameter(G.UNMASKED_VENDOR_WEBGL).includes("Google")&&K.includes("ANGLE Metal Renderer")&&(i.Ma=!1)),i};i=N(!0),i.Ma||(i=N(!1))}return O?new e(P):t(P,i.Ma)};const f=c.Artboard.prototype.delete;c.Artboard.prototype.delete=function(){this.Hb=!0,f.call(this)};const v=c.Artboard.prototype.draw;c.Artboard.prototype.draw=function(P){P.S?P.S.push(()=>{this.Hb||v.call(this,P.Gb)}):v.call(this,P)};const w=new de,m=new de,F=new Ue;c.requestAnimationFrame=F.requestAnimationFrame.bind(F),c.cancelAnimationFrame=F.cancelAnimationFrame.bind(F),c.enableFPSCounter=F.Ob.bind(F),F.ob=n,c.resolveAnimationFrame=n;let S=c.load;c.load=function(P,O,N=!0){const G=new c.FallbackFileAssetLoader;return O!==void 0&&G.addLoader(O),N&&(O=new c.CDNFileAssetLoader,G.addLoader(O)),Promise.resolve(S(P,G))};const B=c.WebGL2Renderer.prototype.clear;c.WebGL2Renderer.prototype.clear=function(){kn(this.Na);const P=this.F;(this.Oa!=P.width||this.ab!=P.height)&&(this.resize(P.width,P.height),this.Oa=P.width,this.ab=P.height),B.call(this)},c.decodeImage=function(P,O){P=c.decodeWebGL2Image(P),O(P)};let y=c.Renderer.prototype.align;c.Renderer.prototype.align=function(P,O,N,G,K=1){y.call(this,P,O,N,G,K)}};var ge=Object.assign({},c),ye="./this.program",Le=typeof window=="object",xe=typeof importScripts=="function",je="",j,x;(Le||xe)&&(xe?je=self.location.href:typeof document<"u"&&document.currentScript&&(je=document.currentScript.src),te&&(je=te),je.indexOf("blob:")!==0?je=je.substr(0,je.replace(/[?#].*/,"").lastIndexOf("/")+1):je="",xe&&(x=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),j=(e,t,n)=>{var i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType="arraybuffer",i.onload=()=>{i.status==200||i.status==0&&i.response?t(i.response):n()},i.onerror=n,i.send(null)});var d=c.print||console.log.bind(console),_=c.printErr||console.error.bind(console);Object.assign(c,ge),ge=null,c.thisProgram&&(ye=c.thisProgram);var A;c.wasmBinary&&(A=c.wasmBinary),c.noExitRuntime,typeof WebAssembly!="object"&&oe("no native wasm support detected");var g,p,k=!1,R,L,I,D,C,U,ae,ce;function se(){var e=g.buffer;c.HEAP8=R=new Int8Array(e),c.HEAP16=I=new Int16Array(e),c.HEAP32=C=new Int32Array(e),c.HEAPU8=L=new Uint8Array(e),c.HEAPU16=D=new Uint16Array(e),c.HEAPU32=U=new Uint32Array(e),c.HEAPF32=ae=new Float32Array(e),c.HEAPF64=ce=new Float64Array(e)}var Y,we=[],le=[],Ve=[];function Me(){var e=c.preRun.shift();we.unshift(e)}var he=0,z=null;function oe(e){throw c.onAbort&&c.onAbort(e),e="Aborted("+e+")",_(e),k=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),Ce(e),e}function Oe(e){return e.startsWith("data:application/octet-stream;base64,")}var fe;if(fe="webgl2_advanced.wasm",!Oe(fe)){var at=fe;fe=c.locateFile?c.locateFile(at,je):je+at}function gt(e){if(e==fe&&A)return new Uint8Array(A);if(x)return x(e);throw"both async and sync fetching of the wasm failed"}function Lt(e){if(!A&&(Le||xe)){if(typeof fetch=="function"&&!e.startsWith("file://"))return fetch(e,{credentials:"same-origin"}).then(t=>{if(!t.ok)throw"failed to load wasm binary file at '"+e+"'";return t.arrayBuffer()}).catch(()=>gt(e));if(j)return new Promise((t,n)=>{j(e,i=>t(new Uint8Array(i)),n)})}return Promise.resolve().then(()=>gt(e))}function Se(e,t,n){return Lt(e).then(i=>WebAssembly.instantiate(i,t)).then(i=>i).then(n,i=>{_("failed to asynchronously prepare wasm: "+i),oe(i)})}function Ct(e,t){var n=fe;return A||typeof WebAssembly.instantiateStreaming!="function"||Oe(n)||n.startsWith("file://")||typeof fetch!="function"?Se(n,e,t):fetch(n,{credentials:"same-origin"}).then(i=>WebAssembly.instantiateStreaming(i,e).then(t,function(a){return _("wasm streaming compile failed: "+a),_("falling back to ArrayBuffer instantiation"),Se(n,e,t)}))}var nt,yt,Mt={535063:(e,t,n,i,a)=>{if(typeof window>"u"||(window.AudioContext||window.webkitAudioContext)===void 0)return 0;if(typeof window.h>"u"){window.h={Ga:0},window.h.I={},window.h.I.Ea=e,window.h.I.capture=t,window.h.I.Ra=n,window.h.ja={},window.h.ja.stopped=i,window.h.ja.xb=a;let u=window.h;u.D=[],u.rc=function(f){for(var v=0;v<u.D.length;++v)if(u.D[v]==null)return u.D[v]=f,v;return u.D.push(f),u.D.length-1},u.Bb=function(f){for(u.D[f]=null;0<u.D.length&&u.D[u.D.length-1]==null;)u.D.pop()},u.Qc=function(f){for(var v=0;v<u.D.length;++v)if(u.D[v]==f)return u.Bb(v)},u.va=function(f){return u.D[f]},u.Za=["touchend","click"],u.unlock=function(){for(var f=0;f<u.D.length;++f){var v=u.D[f];v!=null&&v.J!=null&&v.state===u.ja.xb&&v.J.resume().then(()=>{Pr(v.pb)},w=>{console.error("Failed to resume audiocontext",w)})}u.Za.map(function(w){document.removeEventListener(w,u.unlock,!0)})},u.Za.map(function(f){document.addEventListener(f,u.unlock,!0)})}return window.h.Ga+=1,1},537241:()=>{typeof window.h<"u"&&(window.h.Za.map(function(e){document.removeEventListener(e,window.h.unlock,!0)}),--window.h.Ga,window.h.Ga===0&&delete window.h)},537545:()=>navigator.mediaDevices!==void 0&&navigator.mediaDevices.getUserMedia!==void 0,537649:()=>{try{var e=new(window.AudioContext||window.webkitAudioContext),t=e.sampleRate;return e.close(),t}catch{return 0}},537820:(e,t,n,i,a,u)=>{if(typeof window.h>"u")return-1;var f={},v={};return e==window.h.I.Ea&&n!=0&&(v.sampleRate=n),f.J=new(window.AudioContext||window.webkitAudioContext)(v),f.J.suspend(),f.state=window.h.ja.stopped,n=0,e!=window.h.I.Ea&&(n=t),f.Z=f.J.createScriptProcessor(i,n,t),f.Z.onaudioprocess=function(w){if((f.wa==null||f.wa.length==0)&&(f.wa=new Float32Array(ae.buffer,a,i*t)),e==window.h.I.capture||e==window.h.I.Ra){for(var m=0;m<t;m+=1)for(var F=w.inputBuffer.getChannelData(m),S=f.wa,B=0;B<i;B+=1)S[B*t+m]=F[B];Ir(u,i,a)}if(e==window.h.I.Ea||e==window.h.I.Ra)for(Er(u,i,a),m=0;m<w.outputBuffer.numberOfChannels;++m)for(F=w.outputBuffer.getChannelData(m),S=f.wa,B=0;B<i;B+=1)F[B]=S[B*t+m];else for(m=0;m<w.outputBuffer.numberOfChannels;++m)w.outputBuffer.getChannelData(m).fill(0)},e!=window.h.I.capture&&e!=window.h.I.Ra||navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(w){f.Ha=f.J.createMediaStreamSource(w),f.Ha.connect(f.Z),f.Z.connect(f.J.destination)}).catch(function(w){console.log("Failed to get user media: "+w)}),e==window.h.I.Ea&&f.Z.connect(f.J.destination),f.pb=u,window.h.rc(f)},540697:e=>window.h.va(e).J.sampleRate,540770:e=>{e=window.h.va(e),e.Z!==void 0&&(e.Z.onaudioprocess=function(){},e.Z.disconnect(),e.Z=void 0),e.Ha!==void 0&&(e.Ha.disconnect(),e.Ha=void 0),e.J.close(),e.J=void 0,e.pb=void 0},541170:e=>{window.h.Bb(e)},541220:e=>{e=window.h.va(e),e.J.resume(),e.state=window.h.ja.xb},541359:e=>{e=window.h.va(e),e.J.suspend(),e.state=window.h.ja.stopped}},s=e=>{for(;0<e.length;)e.shift()(c)},r=(e,t)=>{for(var n=0,i=e.length-1;0<=i;i--){var a=e[i];a==="."?e.splice(i,1):a===".."?(e.splice(i,1),n++):n&&(e.splice(i,1),n--)}if(t)for(;n;n--)e.unshift("..");return e},o=e=>{var t=e.charAt(0)==="/",n=e.substr(-1)==="/";return(e=r(e.split("/").filter(i=>!!i),!t).join("/"))||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e},l=e=>{var t=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1);return e=t[0],t=t[1],!e&&!t?".":(t&&(t=t.substr(0,t.length-1)),e+t)},h=e=>{if(e==="/")return"/";e=o(e),e=e.replace(/\/$/,"");var t=e.lastIndexOf("/");return t===-1?e:e.substr(t+1)},b=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return e=>crypto.getRandomValues(e);oe("initRandomDevice")},E=e=>(E=b())(e);function $(){for(var e="",t=!1,n=arguments.length-1;-1<=n&&!t;n--){if(t=0<=n?arguments[n]:"/",typeof t!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!t)return"";e=t+"/"+e,t=t.charAt(0)==="/"}return e=r(e.split("/").filter(i=>!!i),!t).join("/"),(t?"/":"")+e||"."}var q=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,V=(e,t,n)=>{var i=t+n;for(n=t;e[n]&&!(n>=i);)++n;if(16<n-t&&e.buffer&&q)return q.decode(e.subarray(t,n));for(i="";t<n;){var a=e[t++];if(a&128){var u=e[t++]&63;if((a&224)==192)i+=String.fromCharCode((a&31)<<6|u);else{var f=e[t++]&63;a=(a&240)==224?(a&15)<<12|u<<6|f:(a&7)<<18|u<<12|f<<6|e[t++]&63,65536>a?i+=String.fromCharCode(a):(a-=65536,i+=String.fromCharCode(55296|a>>10,56320|a&1023))}}else i+=String.fromCharCode(a)}return i},J=[],pe=e=>{for(var t=0,n=0;n<e.length;++n){var i=e.charCodeAt(n);127>=i?t++:2047>=i?t+=2:55296<=i&&57343>=i?(t+=4,++n):t+=3}return t},We=(e,t,n,i)=>{if(!(0<i))return 0;var a=n;i=n+i-1;for(var u=0;u<e.length;++u){var f=e.charCodeAt(u);if(55296<=f&&57343>=f){var v=e.charCodeAt(++u);f=65536+((f&1023)<<10)|v&1023}if(127>=f){if(n>=i)break;t[n++]=f}else{if(2047>=f){if(n+1>=i)break;t[n++]=192|f>>6}else{if(65535>=f){if(n+2>=i)break;t[n++]=224|f>>12}else{if(n+3>=i)break;t[n++]=240|f>>18,t[n++]=128|f>>12&63}t[n++]=128|f>>6&63}t[n++]=128|f&63}}return t[n]=0,n-a};function be(e,t){var n=Array(pe(e)+1);return e=We(e,n,0,n.length),t&&(n.length=e),n}var Qe=[];function Ye(e,t){Qe[e]={input:[],G:[],V:t},yn(e,$e)}var $e={open:function(e){var t=Qe[e.node.Fa];if(!t)throw new W(43);e.s=t,e.seekable=!1},close:function(e){e.s.V.ua(e.s)},ua:function(e){e.s.V.ua(e.s)},read:function(e,t,n,i){if(!e.s||!e.s.V.jb)throw new W(60);for(var a=0,u=0;u<i;u++){try{var f=e.s.V.jb(e.s)}catch{throw new W(29)}if(f===void 0&&a===0)throw new W(6);if(f==null)break;a++,t[n+u]=f}return a&&(e.node.timestamp=Date.now()),a},write:function(e,t,n,i){if(!e.s||!e.s.V.Ua)throw new W(60);try{for(var a=0;a<i;a++)e.s.V.Ua(e.s,t[n+a])}catch{throw new W(29)}return i&&(e.node.timestamp=Date.now()),a}},He={jb:function(){e:{if(!J.length){var e=null;if(typeof window<"u"&&typeof window.prompt=="function"?(e=window.prompt("Input: "),e!==null&&(e+=`
`)):typeof readline=="function"&&(e=readline(),e!==null&&(e+=`
`)),!e){e=null;break e}J=be(e,!0)}e=J.shift()}return e},Ua:function(e,t){t===null||t===10?(d(V(e.G,0)),e.G=[]):t!=0&&e.G.push(t)},ua:function(e){e.G&&0<e.G.length&&(d(V(e.G,0)),e.G=[])},$b:function(){return{xc:25856,zc:5,wc:191,yc:35387,vc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ac:function(){return 0},bc:function(){return[24,80]}},Xe={Ua:function(e,t){t===null||t===10?(_(V(e.G,0)),e.G=[]):t!=0&&e.G.push(t)},ua:function(e){e.G&&0<e.G.length&&(_(V(e.G,0)),e.G=[])}};function st(e,t){var n=e.j?e.j.length:0;n>=t||(t=Math.max(t,n*(1048576>n?2:1.125)>>>0),n!=0&&(t=Math.max(t,256)),n=e.j,e.j=new Uint8Array(t),0<e.v&&e.j.set(n.subarray(0,e.v),0))}var X={O:null,U(){return X.createNode(null,"/",16895,0)},createNode(e,t,n,i){if((n&61440)===24576||(n&61440)===4096)throw new W(63);return X.O||(X.O={dir:{node:{Y:X.l.Y,P:X.l.P,ma:X.l.ma,Ca:X.l.Ca,vb:X.l.vb,Ab:X.l.Ab,wb:X.l.wb,tb:X.l.tb,Ia:X.l.Ia},stream:{ba:X.m.ba}},file:{node:{Y:X.l.Y,P:X.l.P},stream:{ba:X.m.ba,read:X.m.read,write:X.m.write,ta:X.m.ta,lb:X.m.lb,nb:X.m.nb}},link:{node:{Y:X.l.Y,P:X.l.P,na:X.l.na},stream:{}},bb:{node:{Y:X.l.Y,P:X.l.P},stream:Tr}}),n=Un(e,t,n,i),(n.mode&61440)===16384?(n.l=X.O.dir.node,n.m=X.O.dir.stream,n.j={}):(n.mode&61440)===32768?(n.l=X.O.file.node,n.m=X.O.file.stream,n.v=0,n.j=null):(n.mode&61440)===40960?(n.l=X.O.link.node,n.m=X.O.link.stream):(n.mode&61440)===8192&&(n.l=X.O.bb.node,n.m=X.O.bb.stream),n.timestamp=Date.now(),e&&(e.j[t]=n,e.timestamp=n.timestamp),n},Ec(e){return e.j?e.j.subarray?e.j.subarray(0,e.v):new Uint8Array(e.j):new Uint8Array(0)},l:{Y(e){var t={};return t.Cc=(e.mode&61440)===8192?e.id:1,t.Gc=e.id,t.mode=e.mode,t.Lc=1,t.uid=0,t.Fc=0,t.Fa=e.Fa,(e.mode&61440)===16384?t.size=4096:(e.mode&61440)===32768?t.size=e.v:(e.mode&61440)===40960?t.size=e.link.length:t.size=0,t.tc=new Date(e.timestamp),t.Jc=new Date(e.timestamp),t.Ac=new Date(e.timestamp),t.Ib=4096,t.uc=Math.ceil(t.size/t.Ib),t},P(e,t){if(t.mode!==void 0&&(e.mode=t.mode),t.timestamp!==void 0&&(e.timestamp=t.timestamp),t.size!==void 0&&(t=t.size,e.v!=t))if(t==0)e.j=null,e.v=0;else{var n=e.j;e.j=new Uint8Array(t),n&&e.j.set(n.subarray(0,Math.min(t,e.v))),e.v=t}},ma(){throw gn[44]},Ca(e,t,n,i){return X.createNode(e,t,n,i)},vb(e,t,n){if((e.mode&61440)===16384){try{var i=zt(t,n)}catch{}if(i)for(var a in i.j)throw new W(55)}delete e.parent.j[e.name],e.parent.timestamp=Date.now(),e.name=n,t.j[n]=e,t.timestamp=e.parent.timestamp,e.parent=t},Ab(e,t){delete e.j[t],e.timestamp=Date.now()},wb(e,t){var n=zt(e,t),i;for(i in n.j)throw new W(55);delete e.j[t],e.timestamp=Date.now()},tb(e){var t=[".",".."],n;for(n in e.j)e.j.hasOwnProperty(n)&&t.push(n);return t},Ia(e,t,n){return e=X.createNode(e,t,41471,0),e.link=n,e},na(e){if((e.mode&61440)!==40960)throw new W(28);return e.link}},m:{read(e,t,n,i,a){var u=e.node.j;if(a>=e.node.v)return 0;if(e=Math.min(e.node.v-a,i),8<e&&u.subarray)t.set(u.subarray(a,a+e),n);else for(i=0;i<e;i++)t[n+i]=u[a+i];return e},write(e,t,n,i,a,u){if(t.buffer===R.buffer&&(u=!1),!i)return 0;if(e=e.node,e.timestamp=Date.now(),t.subarray&&(!e.j||e.j.subarray)){if(u)return e.j=t.subarray(n,n+i),e.v=i;if(e.v===0&&a===0)return e.j=t.slice(n,n+i),e.v=i;if(a+i<=e.v)return e.j.set(t.subarray(n,n+i),a),i}if(st(e,a+i),e.j.subarray&&t.subarray)e.j.set(t.subarray(n,n+i),a);else for(u=0;u<i;u++)e.j[a+u]=t[n+u];return e.v=Math.max(e.v,a+i),i},ba(e,t,n){if(n===1?t+=e.position:n===2&&(e.node.mode&61440)===32768&&(t+=e.node.v),0>t)throw new W(28);return t},ta(e,t,n){st(e.node,t+n),e.node.v=Math.max(e.node.v,t+n)},lb(e,t,n,i,a){if((e.node.mode&61440)!==32768)throw new W(43);if(e=e.node.j,a&2||e.buffer!==R.buffer){if((0<n||n+t<e.length)&&(e.subarray?e=e.subarray(n,n+t):e=Array.prototype.slice.call(e,n,n+t)),n=!0,oe(),t=void 0,!t)throw new W(48);R.set(e,t)}else n=!1,t=e.byteOffset;return{o:t,M:n}},nb(e,t,n,i){return X.m.write(e,t,0,i,n,!1),0}}};function ut(e,t){var n=0;return e&&(n|=365),t&&(n|=146),n}var qe=null,ie={},Je=[],Or=1,kt=null,Wn=!0,W=null,gn={},wt=(e,t={})=>{if(e=$(e),!e)return{path:"",node:null};if(t=Object.assign({hb:!0,Wa:0},t),8<t.Wa)throw new W(32);e=e.split("/").filter(f=>!!f);for(var n=qe,i="/",a=0;a<e.length;a++){var u=a===e.length-1;if(u&&t.parent)break;if(n=zt(n,e[a]),i=o(i+"/"+e[a]),n.Da&&(!u||u&&t.hb)&&(n=n.Da.root),!u||t.gb){for(u=0;(n.mode&61440)===40960;)if(n=xr(i),i=$(l(i),n),n=wt(i,{Wa:t.Wa+1}).node,40<u++)throw new W(32)}}return{path:i,node:n}},Dn=e=>{for(var t;;){if(e===e.parent)return e=e.U.mb,t?e[e.length-1]!=="/"?`${e}/${t}`:e+t:e;t=t?`${e.name}/${t}`:e.name,e=e.parent}},Bn=(e,t)=>{for(var n=0,i=0;i<t.length;i++)n=(n<<5)-n+t.charCodeAt(i)|0;return(e+n>>>0)%kt.length},zt=(e,t)=>{var n;if(n=(n=$t(e,"x"))?n:e.l.ma?0:2)throw new W(n,e);for(n=kt[Bn(e.id,t)];n;n=n.ec){var i=n.name;if(n.parent.id===e.id&&i===t)return n}return e.l.ma(e,t)},Un=(e,t,n,i)=>(e=new _r(e,t,n,i),t=Bn(e.parent.id,e.name),e.ec=kt[t],kt[t]=e),Nn=e=>{var t=["r","w","rw"][e&3];return e&512&&(t+="w"),t},$t=(e,t)=>{if(Wn)return 0;if(!t.includes("r")||e.mode&292){if(t.includes("w")&&!(e.mode&146)||t.includes("x")&&!(e.mode&73))return 2}else return 2;return 0},zn=(e,t)=>{try{return zt(e,t),20}catch{}return $t(e,"wx")},Sr=()=>{for(var e=0;4096>=e;e++)if(!Je[e])return e;throw new W(33)},pt=e=>{if(e=Je[e],!e)throw new W(8);return e},$n=(e,t=-1)=>(St||(St=function(){this.h={}},St.prototype={},Object.defineProperties(St.prototype,{object:{get(){return this.node},set(n){this.node=n}},flags:{get(){return this.h.flags},set(n){this.h.flags=n}},position:{get(){return this.h.position},set(n){this.h.position=n}}})),e=Object.assign(new St,e),t==-1&&(t=Sr()),e.X=t,Je[t]=e),Tr={open:e=>{e.m=ie[e.node.Fa].m,e.m.open&&e.m.open(e)},ba:()=>{throw new W(70)}},yn=(e,t)=>{ie[e]={m:t}},Hn=(e,t)=>{var n=t==="/",i=!t;if(n&&qe)throw new W(10);if(!n&&!i){var a=wt(t,{hb:!1});if(t=a.path,a=a.node,a.Da)throw new W(10);if((a.mode&61440)!==16384)throw new W(54)}t={type:e,Nc:{},mb:t,dc:[]},e=e.U(t),e.U=t,t.root=e,n?qe=e:a&&(a.Da=t,a.U&&a.U.dc.push(t))},Ze=(e,t,n)=>{var i=wt(e,{parent:!0}).node;if(e=h(e),!e||e==="."||e==="..")throw new W(28);var a=zn(i,e);if(a)throw new W(a);if(!i.l.Ca)throw new W(63);return i.l.Ca(i,e,t,n)},Ht=(e,t,n)=>{typeof n>"u"&&(n=t,t=438),Ze(e,t|8192,n)},wn=(e,t)=>{if(!$(e))throw new W(44);var n=wt(t,{parent:!0}).node;if(!n)throw new W(44);t=h(t);var i=zn(n,t);if(i)throw new W(i);if(!n.l.Ia)throw new W(63);n.l.Ia(n,t,e)},xr=e=>{if(e=wt(e).node,!e)throw new W(44);if(!e.l.na)throw new W(28);return $(Dn(e.parent),e.l.na(e))},Gt=(e,t,n)=>{if(e==="")throw new W(44);if(typeof t=="string"){var i={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[t];if(typeof i>"u")throw Error(`Unknown file open mode: ${t}`);t=i}if(n=t&64?(typeof n>"u"?438:n)&4095|32768:0,typeof e=="object")var a=e;else{e=o(e);try{a=wt(e,{gb:!(t&131072)}).node}catch{}}if(i=!1,t&64)if(a){if(t&128)throw new W(20)}else a=Ze(e,n,0),i=!0;if(!a)throw new W(44);if((a.mode&61440)===8192&&(t&=-513),t&65536&&(a.mode&61440)!==16384)throw new W(54);if(!i&&(n=a?(a.mode&61440)===40960?32:(a.mode&61440)===16384&&(Nn(t)!=="r"||t&512)?31:$t(a,Nn(t)):44))throw new W(n);if(t&512&&!i){if(n=a,n=typeof n=="string"?wt(n,{gb:!0}).node:n,!n.l.P)throw new W(63);if((n.mode&61440)===16384)throw new W(31);if((n.mode&61440)!==32768)throw new W(28);if(i=$t(n,"w"))throw new W(i);n.l.P(n,{size:0,timestamp:Date.now()})}return t&=-131713,a=$n({node:a,path:Dn(a),flags:t,seekable:!0,position:0,m:a.m,sc:[],error:!1}),a.m.open&&a.m.open(a),!c.logReadFiles||t&1||(Yt||(Yt={}),e in Yt||(Yt[e]=1)),a},Gn=(e,t,n)=>{if(e.X===null)throw new W(8);if(!e.seekable||!e.m.ba)throw new W(70);if(n!=0&&n!=1&&n!=2)throw new W(28);e.position=e.m.ba(e,t,n),e.sc=[]},Yn=()=>{W||(W=function(e,t){this.name="ErrnoError",this.node=t,this.ic=function(n){this.aa=n},this.ic(e),this.message="FS error"},W.prototype=Error(),W.prototype.constructor=W,[44].forEach(e=>{gn[e]=new W(e),gn[e].stack="<generic error, no stack>"}))},Xn,Ot=(e,t,n)=>{e=o("/dev/"+e);var i=ut(!!t,!!n);bn||(bn=64);var a=bn++<<8|0;yn(a,{open:u=>{u.seekable=!1},close:()=>{n&&n.buffer&&n.buffer.length&&n(10)},read:(u,f,v,w)=>{for(var m=0,F=0;F<w;F++){try{var S=t()}catch{throw new W(29)}if(S===void 0&&m===0)throw new W(6);if(S==null)break;m++,f[v+F]=S}return m&&(u.node.timestamp=Date.now()),m},write:(u,f,v,w)=>{for(var m=0;m<w;m++)try{n(f[v+m])}catch{throw new W(29)}return w&&(u.node.timestamp=Date.now()),m}}),Ht(e,i,a)},bn,bt={},St,Yt,Tt=void 0;function lt(){return Tt+=4,C[Tt-4>>2]}function qn(e){if(e===void 0)return"_unknown";e=e.replace(/[^a-zA-Z0-9_]/g,"$");var t=e.charCodeAt(0);return 48<=t&&57>=t?`_${e}`:e}function Xt(e,t){return e=qn(e),{[e]:function(){return t.apply(this,arguments)}}[e]}function Kn(){this.M=[void 0],this.ib=[]}var Ke=new Kn,Pt=void 0;function Q(e){throw new Pt(e)}var et=e=>(e||Q("Cannot use deleted val. handle = "+e),Ke.get(e).value),rt=e=>{switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return Ke.ta({ub:1,value:e})}};function Qn(e){var t=Error,n=Xt(e,function(i){this.name=e,this.message=i,i=Error(i).stack,i!==void 0&&(this.stack=this.toString()+`
`+i.replace(/^Error(:[^\n]*)?\n/,""))});return n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},n}var Jn=void 0,Zn=void 0;function Pe(e){for(var t="";L[e];)t+=Zn[L[e++]];return t}var xt=[];function _n(){for(;xt.length;){var e=xt.pop();e.g.ia=!1,e.delete()}}var jt=void 0,ct={};function An(e,t){for(t===void 0&&Q("ptr should not be undefined");e.A;)t=e.pa(t),e=e.A;return t}var _t={};function er(e){e=Rr(e);var t=Pe(e);return ht(e),t}function Vt(e,t){var n=_t[e];return n===void 0&&Q(t+" has unknown type "+er(e)),n}function qt(){}var Cn=!1;function tr(e){--e.count.value,e.count.value===0&&(e.H?e.L.W(e.H):e.u.i.W(e.o))}function nr(e,t,n){return t===n?e:n.A===void 0?null:(e=nr(e,t,n.A),e===null?null:n.Mb(e))}var rr={};function jr(e,t){return t=An(e,t),ct[t]}var ir=void 0;function Kt(e){throw new ir(e)}function Qt(e,t){return t.u&&t.o||Kt("makeClassHandle requires ptr and ptrType"),!!t.L!=!!t.H&&Kt("Both smartPtrType and smartPtr must be specified"),t.count={value:1},It(Object.create(e,{g:{value:t}}))}function It(e){return typeof FinalizationRegistry>"u"?(It=t=>t,e):(Cn=new FinalizationRegistry(t=>{tr(t.g)}),It=t=>{var n=t.g;return n.H&&Cn.register(t,{g:n},t),t},qt=t=>{Cn.unregister(t)},It(e))}var Jt={};function Wt(e){for(;e.length;){var t=e.pop();e.pop()(t)}}function Dt(e){return this.fromWireType(C[e>>2])}var Et={},Zt={};function Ge(e,t,n){function i(v){v=n(v),v.length!==e.length&&Kt("Mismatched type converter count");for(var w=0;w<e.length;++w)it(e[w],v[w])}e.forEach(function(v){Zt[v]=t});var a=Array(t.length),u=[],f=0;t.forEach((v,w)=>{_t.hasOwnProperty(v)?a[w]=_t[v]:(u.push(v),Et.hasOwnProperty(v)||(Et[v]=[]),Et[v].push(()=>{a[w]=_t[v],++f,f===u.length&&i(a)}))}),u.length===0&&i(a)}function en(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError(`Unknown type size: ${e}`)}}function Vr(e,t,n={}){var i=t.name;if(e||Q(`type "${i}" must have a positive integer typeid pointer`),_t.hasOwnProperty(e)){if(n.Xb)return;Q(`Cannot register type '${i}' twice`)}_t[e]=t,delete Zt[e],Et.hasOwnProperty(e)&&(t=Et[e],delete Et[e],t.forEach(a=>a()))}function it(e,t,n={}){if(!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");Vr(e,t,n)}function Mn(e){Q(e.g.u.i.name+" instance already deleted")}function mt(){}function Pn(e,t,n){if(e[t].B===void 0){var i=e[t];e[t]=function(){return e[t].B.hasOwnProperty(arguments.length)||Q(`Function '${n}' called with an invalid number of arguments (${arguments.length}) - expects one of (${e[t].B})!`),e[t].B[arguments.length].apply(this,arguments)},e[t].B=[],e[t].B[i.ha]=i}}function In(e,t,n){c.hasOwnProperty(e)?((n===void 0||c[e].B!==void 0&&c[e].B[n]!==void 0)&&Q(`Cannot register public name '${e}' twice`),Pn(c,e,e),c.hasOwnProperty(n)&&Q(`Cannot register multiple overloads of a function with the same number of arguments (${n})!`),c[e].B[n]=t):(c[e]=t,n!==void 0&&(c[e].Mc=n))}function Wr(e,t,n,i,a,u,f,v){this.name=e,this.constructor=t,this.N=n,this.W=i,this.A=a,this.Rb=u,this.pa=f,this.Mb=v,this.qb=[]}function tn(e,t,n){for(;t!==n;)t.pa||Q(`Expected null or instance of ${n.name}, got an instance of ${t.name}`),e=t.pa(e),t=t.A;return e}function Dr(e,t){return t===null?(this.Ta&&Q(`null is not a valid ${this.name}`),0):(t.g||Q(`Cannot pass "${Rn(t)}" as a ${this.name}`),t.g.o||Q(`Cannot pass deleted object as a pointer of type ${this.name}`),tn(t.g.o,t.g.u.i,this.i))}function Br(e,t){if(t===null){if(this.Ta&&Q(`null is not a valid ${this.name}`),this.ya){var n=this.Va();return e!==null&&e.push(this.W,n),n}return 0}if(t.g||Q(`Cannot pass "${Rn(t)}" as a ${this.name}`),t.g.o||Q(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.xa&&t.g.u.xa&&Q(`Cannot convert argument of type ${t.g.L?t.g.L.name:t.g.u.name} to parameter type ${this.name}`),n=tn(t.g.o,t.g.u.i,this.i),this.ya)switch(t.g.H===void 0&&Q("Passing raw pointer to smart pointer is illegal"),this.mc){case 0:t.g.L===this?n=t.g.H:Q(`Cannot convert argument of type ${t.g.L?t.g.L.name:t.g.u.name} to parameter type ${this.name}`);break;case 1:n=t.g.H;break;case 2:if(t.g.L===this)n=t.g.H;else{var i=t.clone();n=this.hc(n,rt(function(){i.delete()})),e!==null&&e.push(this.W,n)}break;default:Q("Unsupporting sharing policy")}return n}function Ur(e,t){return t===null?(this.Ta&&Q(`null is not a valid ${this.name}`),0):(t.g||Q(`Cannot pass "${Rn(t)}" as a ${this.name}`),t.g.o||Q(`Cannot pass deleted object as a pointer of type ${this.name}`),t.g.u.xa&&Q(`Cannot convert argument of type ${t.g.u.name} to parameter type ${this.name}`),tn(t.g.o,t.g.u.i,this.i))}function ft(e,t,n,i){this.name=e,this.i=t,this.Ta=n,this.xa=i,this.ya=!1,this.W=this.hc=this.Va=this.sb=this.mc=this.fc=void 0,t.A!==void 0?this.toWireType=Br:(this.toWireType=i?Dr:Ur,this.K=null)}function or(e,t,n){c.hasOwnProperty(e)||Kt("Replacing nonexistant public symbol"),c[e].B!==void 0&&n!==void 0?c[e].B[n]=t:(c[e]=t,c[e].ha=n)}var nn=[],ar=e=>{var t=nn[e];return t||(e>=nn.length&&(nn.length=e+1),nn[e]=t=Y.get(e)),t},Nr=(e,t)=>{var n=[];return function(){if(n.length=0,Object.assign(n,arguments),e.includes("j")){var i=c["dynCall_"+e];i=n&&n.length?i.apply(null,[t].concat(n)):i.call(null,t)}else i=ar(t).apply(null,n);return i}};function De(e,t){e=Pe(e);var n=e.includes("j")?Nr(e,t):ar(t);return typeof n!="function"&&Q(`unknown function pointer with signature ${e}: ${t}`),n}var sr=void 0;function dt(e,t){function n(u){a[u]||_t[u]||(Zt[u]?Zt[u].forEach(n):(i.push(u),a[u]=!0))}var i=[],a={};throw t.forEach(n),new sr(`${e}: `+i.map(er).join([", "]))}function rn(e,t,n,i,a){var u=t.length;2>u&&Q("argTypes array size mismatch! Must at least get return value and 'this' types!");var f=t[1]!==null&&n!==null,v=!1;for(n=1;n<t.length;++n)if(t[n]!==null&&t[n].K===void 0){v=!0;break}var w=t[0].name!=="void",m=u-2,F=Array(m),S=[],B=[];return function(){if(arguments.length!==m&&Q(`function ${e} called with ${arguments.length} arguments, expected ${m} args!`),B.length=0,S.length=f?2:1,S[0]=a,f){var y=t[1].toWireType(B,this);S[1]=y}for(var P=0;P<m;++P)F[P]=t[P+2].toWireType(B,arguments[P]),S.push(F[P]);if(P=i.apply(null,S),v)Wt(B);else for(var O=f?1:2;O<t.length;O++){var N=O===1?y:F[O-2];t[O].K!==null&&t[O].K(N)}return y=w?t[0].fromWireType(P):void 0,y}}function on(e,t){for(var n=[],i=0;i<e;i++)n.push(U[t+4*i>>2]);return n}function ur(e,t,n){return e instanceof Object||Q(`${n} with invalid "this": ${e}`),e instanceof t.i.constructor||Q(`${n} incompatible with "this" of type ${e.constructor.name}`),e.g.o||Q(`cannot call emscripten binding method ${n} on deleted object`),tn(e.g.o,e.g.u.i,t.i)}function En(e){e>=Ke.h&&--Ke.get(e).ub===0&&Ke.Wb(e)}function zr(e,t,n){switch(t){case 0:return function(i){return this.fromWireType((n?R:L)[i])};case 1:return function(i){return this.fromWireType((n?I:D)[i>>1])};case 2:return function(i){return this.fromWireType((n?C:U)[i>>2])};default:throw new TypeError("Unknown integer type: "+e)}}function Rn(e){if(e===null)return"null";var t=typeof e;return t==="object"||t==="array"||t==="function"?e.toString():""+e}function $r(e,t){switch(t){case 2:return function(n){return this.fromWireType(ae[n>>2])};case 3:return function(n){return this.fromWireType(ce[n>>3])};default:throw new TypeError("Unknown float type: "+e)}}function Hr(e,t,n){switch(t){case 0:return n?function(i){return R[i]}:function(i){return L[i]};case 1:return n?function(i){return I[i>>1]}:function(i){return D[i>>1]};case 2:return n?function(i){return C[i>>2]}:function(i){return U[i>>2]};default:throw new TypeError("Unknown integer type: "+e)}}var lr=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,Gr=(e,t)=>{for(var n=e>>1,i=n+t/2;!(n>=i)&&D[n];)++n;if(n<<=1,32<n-e&&lr)return lr.decode(L.subarray(e,n));for(n="",i=0;!(i>=t/2);++i){var a=I[e+2*i>>1];if(a==0)break;n+=String.fromCharCode(a)}return n},Yr=(e,t,n)=>{if(n===void 0&&(n=2147483647),2>n)return 0;n-=2;var i=t;n=n<2*e.length?n/2:e.length;for(var a=0;a<n;++a)I[t>>1]=e.charCodeAt(a),t+=2;return I[t>>1]=0,t-i},Xr=e=>2*e.length,qr=(e,t)=>{for(var n=0,i="";!(n>=t/4);){var a=C[e+4*n>>2];if(a==0)break;++n,65536<=a?(a-=65536,i+=String.fromCharCode(55296|a>>10,56320|a&1023)):i+=String.fromCharCode(a)}return i},Kr=(e,t,n)=>{if(n===void 0&&(n=2147483647),4>n)return 0;var i=t;n=i+n-4;for(var a=0;a<e.length;++a){var u=e.charCodeAt(a);if(55296<=u&&57343>=u){var f=e.charCodeAt(++a);u=65536+((u&1023)<<10)|f&1023}if(C[t>>2]=u,t+=4,t+4>n)break}return C[t>>2]=0,t-i},Qr=e=>{for(var t=0,n=0;n<e.length;++n){var i=e.charCodeAt(n);55296<=i&&57343>=i&&++n,t+=4}return t},Jr={};function Fn(e){var t=Jr[e];return t===void 0?Pe(e):t}var an=[];function Zr(e){var t=an.length;return an.push(e),t}function ei(e,t){for(var n=Array(e),i=0;i<e;++i)n[i]=Vt(U[t+4*i>>2],"parameter "+i);return n}var cr=[],Ln=[];function fr(e){e.Dc=e.getExtension("WEBGL_draw_instanced_base_vertex_base_instance")}function dr(e){e.Ic=e.getExtension("WEBGL_multi_draw_instanced_base_vertex_base_instance")}var hr=1,Bt=[],tt=[],sn=[],Ut=[],Rt=[],At=[],un=[],Te=[],vr={};function Be(e){cn||(cn=e)}function ln(e){for(var t=hr++,n=e.length;n<t;n++)e[n]=null;return t}function ti(e,t){var n=ln(Te),i={handle:n,attributes:t,version:t.Hc,C:e};return e.canvas&&(e.canvas.Cb=i),Te[n]=i,(typeof t.Nb>"u"||t.Nb)&&ni(i),n}function kn(e){return ot=Te[e],c.Bc=M=ot&&ot.C,!(e&&!M)}function ni(e){if(e||(e=ot),!e.Yb){e.Yb=!0;var t=e.C;fr(t),dr(t),2<=e.version&&(t.eb=t.getExtension("EXT_disjoint_timer_query_webgl2")),(2>e.version||!t.eb)&&(t.eb=t.getExtension("EXT_disjoint_timer_query")),pr(t),(t.getSupportedExtensions()||[]).forEach(function(n){n.includes("lose_context")||n.includes("debug")||t.getExtension(n)})}}var cn,ot;function pr(e){e.Kc=e.getExtension("WEBGL_multi_draw")}var On={},mr=()=>{if(!Sn){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:ye||"./this.program"},t;for(t in On)On[t]===void 0?delete e[t]:e[t]=On[t];var n=[];for(t in e)n.push(`${t}=${e[t]}`);Sn=n}return Sn},Sn,Tn=[];function Nt(e,t,n,i){for(var a=0;a<e;a++){var u=M[n](),f=u&&ln(i);u?(u.name=f,i[f]=u):Be(1282),C[t+4*a>>2]=f}}function ri(e,t){if(t){var n=void 0;switch(e){case 36346:n=1;break;case 36344:return;case 34814:case 36345:n=0;break;case 34466:var i=M.getParameter(34467);n=i?i.length:0;break;case 33309:if(2>ot.version){Be(1282);return}n=2*(M.getSupportedExtensions()||[]).length;break;case 33307:case 33308:if(2>ot.version){Be(1280);return}n=e==33307?3:0}if(n===void 0)switch(i=M.getParameter(e),typeof i){case"number":n=i;break;case"boolean":n=i?1:0;break;case"string":Be(1280);return;case"object":if(i===null)switch(e){case 34964:case 35725:case 34965:case 36006:case 36007:case 32873:case 34229:case 36662:case 36663:case 35053:case 35055:case 36010:case 35097:case 35869:case 32874:case 36389:case 35983:case 35368:case 34068:n=0;break;default:Be(1280);return}else{if(i instanceof Float32Array||i instanceof Uint32Array||i instanceof Int32Array||i instanceof Array){for(e=0;e<i.length;++e)C[t+4*e>>2]=i[e];return}try{n=i.name|0}catch(a){Be(1280),_("GL_INVALID_ENUM in glGet0v: Unknown object returned from WebGL getParameter("+e+")! (error: "+a+")");return}}break;default:Be(1280),_("GL_INVALID_ENUM in glGet0v: Native code calling glGet0v("+e+") and it returns "+i+" of type "+typeof i+"!");return}C[t>>2]=n}else Be(1281)}var fn=e=>{var t=pe(e)+1,n=vn(t);return n&&We(e,L,n,t),n};function gr(e){return e.slice(-1)=="]"&&e.lastIndexOf("[")}function yr(e){return e-=5120,e==0?R:e==1?L:e==2?I:e==4?C:e==6?ae:e==5||e==28922||e==28520||e==30779||e==30782?U:D}var dn=e=>e%4===0&&(e%100!==0||e%400===0),wr=[31,29,31,30,31,30,31,31,30,31,30,31],br=[31,28,31,30,31,30,31,31,30,31,30,31],ii=(e,t,n,i)=>{function a(y,P,O){for(y=typeof y=="number"?y.toString():y||"";y.length<P;)y=O[0]+y;return y}function u(y,P){return a(y,P,"0")}function f(y,P){function O(G){return 0>G?-1:0<G?1:0}var N;return(N=O(y.getFullYear()-P.getFullYear()))===0&&(N=O(y.getMonth()-P.getMonth()))===0&&(N=O(y.getDate()-P.getDate())),N}function v(y){switch(y.getDay()){case 0:return new Date(y.getFullYear()-1,11,29);case 1:return y;case 2:return new Date(y.getFullYear(),0,3);case 3:return new Date(y.getFullYear(),0,2);case 4:return new Date(y.getFullYear(),0,1);case 5:return new Date(y.getFullYear()-1,11,31);case 6:return new Date(y.getFullYear()-1,11,30)}}function w(y){var P=y.da;for(y=new Date(new Date(y.ea+1900,0,1).getTime());0<P;){var O=y.getMonth(),N=(dn(y.getFullYear())?wr:br)[O];if(P>N-y.getDate())P-=N-y.getDate()+1,y.setDate(1),11>O?y.setMonth(O+1):(y.setMonth(0),y.setFullYear(y.getFullYear()+1));else{y.setDate(y.getDate()+P);break}}return O=new Date(y.getFullYear()+1,0,4),P=v(new Date(y.getFullYear(),0,4)),O=v(O),0>=f(P,y)?0>=f(O,y)?y.getFullYear()+1:y.getFullYear():y.getFullYear()-1}var m=C[i+40>>2];i={pc:C[i>>2],oc:C[i+4>>2],Ja:C[i+8>>2],Xa:C[i+12>>2],Ka:C[i+16>>2],ea:C[i+20>>2],R:C[i+24>>2],da:C[i+28>>2],Pc:C[i+32>>2],nc:C[i+36>>2],qc:m&&m?V(L,m):""},n=n?V(L,n):"",m={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var F in m)n=n.replace(new RegExp(F,"g"),m[F]);var S="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),B="January February March April May June July August September October November December".split(" ");m={"%a":y=>S[y.R].substring(0,3),"%A":y=>S[y.R],"%b":y=>B[y.Ka].substring(0,3),"%B":y=>B[y.Ka],"%C":y=>u((y.ea+1900)/100|0,2),"%d":y=>u(y.Xa,2),"%e":y=>a(y.Xa,2," "),"%g":y=>w(y).toString().substring(2),"%G":y=>w(y),"%H":y=>u(y.Ja,2),"%I":y=>(y=y.Ja,y==0?y=12:12<y&&(y-=12),u(y,2)),"%j":y=>{for(var P=0,O=0;O<=y.Ka-1;P+=(dn(y.ea+1900)?wr:br)[O++]);return u(y.Xa+P,3)},"%m":y=>u(y.Ka+1,2),"%M":y=>u(y.oc,2),"%n":()=>`
`,"%p":y=>0<=y.Ja&&12>y.Ja?"AM":"PM","%S":y=>u(y.pc,2),"%t":()=>"	","%u":y=>y.R||7,"%U":y=>u(Math.floor((y.da+7-y.R)/7),2),"%V":y=>{var P=Math.floor((y.da+7-(y.R+6)%7)/7);if(2>=(y.R+371-y.da-2)%7&&P++,P)P==53&&(O=(y.R+371-y.da)%7,O==4||O==3&&dn(y.ea)||(P=1));else{P=52;var O=(y.R+7-y.da-1)%7;(O==4||O==5&&dn(y.ea%400-1))&&P++}return u(P,2)},"%w":y=>y.R,"%W":y=>u(Math.floor((y.da+7-(y.R+6)%7)/7),2),"%y":y=>(y.ea+1900).toString().substring(2),"%Y":y=>y.ea+1900,"%z":y=>{y=y.nc;var P=0<=y;return y=Math.abs(y)/60,(P?"+":"-")+("0000"+(y/60*100+y%60)).slice(-4)},"%Z":y=>y.qc,"%%":()=>"%"},n=n.replace(/%%/g,"\0\0");for(F in m)n.includes(F)&&(n=n.replace(new RegExp(F,"g"),m[F](i)));return n=n.replace(/\0\0/g,"%"),F=be(n,!1),F.length>t?0:(R.set(F,e),F.length-1)};function _r(e,t,n,i){e||(e=this),this.parent=e,this.U=e.U,this.Da=null,this.id=Or++,this.name=t,this.mode=n,this.l={},this.m={},this.Fa=i}Object.defineProperties(_r.prototype,{read:{get:function(){return(this.mode&365)===365},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return(this.mode&146)===146},set:function(e){e?this.mode|=146:this.mode&=-147}}}),Yn(),kt=Array(4096),Hn(X,"/"),Ze("/tmp",16895,0),Ze("/home",16895,0),Ze("/home/web_user",16895,0),(()=>{Ze("/dev",16895,0),yn(259,{read:()=>0,write:(i,a,u,f)=>f}),Ht("/dev/null",259),Ye(1280,He),Ye(1536,Xe),Ht("/dev/tty",1280),Ht("/dev/tty1",1536);var e=new Uint8Array(1024),t=0,n=()=>(t===0&&(t=E(e).byteLength),e[--t]);Ot("random",n),Ot("urandom",n),Ze("/dev/shm",16895,0),Ze("/dev/shm/tmp",16895,0)})(),(()=>{Ze("/proc",16895,0);var e=Ze("/proc/self",16895,0);Ze("/proc/self/fd",16895,0),Hn({U:()=>{var t=Un(e,"fd",16895,73);return t.l={ma:(n,i)=>{var a=pt(+i);return n={parent:null,U:{mb:"fake"},l:{na:()=>a.path}},n.parent=n}},t}},"/proc/self/fd")})(),Object.assign(Kn.prototype,{get(e){return this.M[e]},has(e){return this.M[e]!==void 0},ta(e){var t=this.ib.pop()||this.M.length;return this.M[t]=e,t},Wb(e){this.M[e]=void 0,this.ib.push(e)}}),Pt=c.BindingError=class extends Error{constructor(e){super(e),this.name="BindingError"}},Ke.M.push({value:void 0},{value:null},{value:!0},{value:!1}),Ke.h=Ke.M.length,c.count_emval_handles=function(){for(var e=0,t=Ke.h;t<Ke.M.length;++t)Ke.M[t]!==void 0&&++e;return e},Jn=c.PureVirtualError=Qn("PureVirtualError");for(var Ar=Array(256),hn=0;256>hn;++hn)Ar[hn]=String.fromCharCode(hn);Zn=Ar,c.getInheritedInstanceCount=function(){return Object.keys(ct).length},c.getLiveInheritedInstances=function(){var e=[],t;for(t in ct)ct.hasOwnProperty(t)&&e.push(ct[t]);return e},c.flushPendingDeletes=_n,c.setDelayFunction=function(e){jt=e,xt.length&&jt&&jt(_n)},ir=c.InternalError=class extends Error{constructor(e){super(e),this.name="InternalError"}},mt.prototype.isAliasOf=function(e){if(!(this instanceof mt&&e instanceof mt))return!1;var t=this.g.u.i,n=this.g.o,i=e.g.u.i;for(e=e.g.o;t.A;)n=t.pa(n),t=t.A;for(;i.A;)e=i.pa(e),i=i.A;return t===i&&n===e},mt.prototype.clone=function(){if(this.g.o||Mn(this),this.g.ka)return this.g.count.value+=1,this;var e=It,t=Object,n=t.create,i=Object.getPrototypeOf(this),a=this.g;return e=e(n.call(t,i,{g:{value:{count:a.count,ia:a.ia,ka:a.ka,o:a.o,u:a.u,H:a.H,L:a.L}}})),e.g.count.value+=1,e.g.ia=!1,e},mt.prototype.delete=function(){this.g.o||Mn(this),this.g.ia&&!this.g.ka&&Q("Object already scheduled for deletion"),qt(this),tr(this.g),this.g.ka||(this.g.H=void 0,this.g.o=void 0)},mt.prototype.isDeleted=function(){return!this.g.o},mt.prototype.deleteLater=function(){return this.g.o||Mn(this),this.g.ia&&!this.g.ka&&Q("Object already scheduled for deletion"),xt.push(this),xt.length===1&&jt&&jt(_n),this.g.ia=!0,this},ft.prototype.Sb=function(e){return this.sb&&(e=this.sb(e)),e},ft.prototype.cb=function(e){this.W&&this.W(e)},ft.prototype.argPackAdvance=8,ft.prototype.readValueFromPointer=Dt,ft.prototype.deleteObject=function(e){e!==null&&e.delete()},ft.prototype.fromWireType=function(e){function t(){return this.ya?Qt(this.i.N,{u:this.fc,o:n,L:this,H:e}):Qt(this.i.N,{u:this,o:e})}var n=this.Sb(e);if(!n)return this.cb(e),null;var i=jr(this.i,n);if(i!==void 0)return i.g.count.value===0?(i.g.o=n,i.g.H=e,i.clone()):(i=i.clone(),this.cb(e),i);if(i=this.i.Rb(n),i=rr[i],!i)return t.call(this);i=this.xa?i.Jb:i.pointerType;var a=nr(n,this.i,i.i);return a===null?t.call(this):this.ya?Qt(i.i.N,{u:i,o:a,L:this,H:e}):Qt(i.i.N,{u:i,o:a})},sr=c.UnboundTypeError=Qn("UnboundTypeError");for(var M,xn=0;32>xn;++xn)Tn.push(Array(xn));var Cr={__syscall_fcntl64:function(e,t,n){Tt=n;try{var i=pt(e);switch(t){case 0:var a=lt();return 0>a?-28:$n(i,a).X;case 1:case 2:return 0;case 3:return i.flags;case 4:return a=lt(),i.flags|=a,0;case 5:return a=lt(),I[a+0>>1]=2,0;case 6:case 7:return 0;case 16:case 8:return-28;case 9:return C[Mr()>>2]=28,-1;default:return-28}}catch(u){if(typeof bt>"u"||u.name!=="ErrnoError")throw u;return-u.aa}},__syscall_ioctl:function(e,t,n){Tt=n;try{var i=pt(e);switch(t){case 21509:return i.s?0:-59;case 21505:if(!i.s)return-59;if(i.s.V.$b){t=[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];var a=lt();C[a>>2]=25856,C[a+4>>2]=5,C[a+8>>2]=191,C[a+12>>2]=35387;for(var u=0;32>u;u++)R[a+u+17>>0]=t[u]||0}return 0;case 21510:case 21511:case 21512:return i.s?0:-59;case 21506:case 21507:case 21508:if(!i.s)return-59;if(i.s.V.ac)for(a=lt(),t=[],u=0;32>u;u++)t.push(R[a+u+17>>0]);return 0;case 21519:return i.s?(a=lt(),C[a>>2]=0):-59;case 21520:return i.s?-28:-59;case 21531:if(a=lt(),!i.m.Zb)throw new W(59);return i.m.Zb(i,t,a);case 21523:return i.s?(i.s.V.bc&&(u=[24,80],a=lt(),I[a>>1]=u[0],I[a+2>>1]=u[1]),0):-59;case 21524:return i.s?0:-59;case 21515:return i.s?0:-59;default:return-28}}catch(f){if(typeof bt>"u"||f.name!=="ErrnoError")throw f;return-f.aa}},__syscall_openat:function(e,t,n,i){Tt=i;try{t=t?V(L,t):"";var a=t;if(a.charAt(0)==="/")t=a;else{var u=e===-100?"/":pt(e).path;if(a.length==0)throw new W(44);t=o(u+"/"+a)}var f=i?lt():0;return Gt(t,n,f).X}catch(v){if(typeof bt>"u"||v.name!=="ErrnoError")throw v;return-v.aa}},_embind_create_inheriting_constructor:function(e,t,n){e=Pe(e),t=Vt(t,"wrapper"),n=et(n);var i=[].slice,a=t.i,u=a.N,f=a.A.N,v=a.A.constructor;e=Xt(e,function(){a.A.qb.forEach((function(m){if(this[m]===f[m])throw new Jn(`Pure virtual function ${m} must be implemented in JavaScript`)}).bind(this)),Object.defineProperty(this,"__parent",{value:u}),this.__construct.apply(this,i.call(arguments))}),u.__construct=function(){this===u&&Q("Pass correct 'this' to __construct");var m=v.implement.apply(void 0,[this].concat(i.call(arguments)));qt(m);var F=m.g;m.notifyOnDestruction(),F.ka=!0,Object.defineProperties(this,{g:{value:F}}),It(this),m=F.o,m=An(a,m),ct.hasOwnProperty(m)?Q(`Tried to register registered instance: ${m}`):ct[m]=this},u.__destruct=function(){this===u&&Q("Pass correct 'this' to __destruct"),qt(this);var m=this.g.o;m=An(a,m),ct.hasOwnProperty(m)?delete ct[m]:Q(`Tried to unregister unregistered instance: ${m}`)},e.prototype=Object.create(u);for(var w in n)e.prototype[w]=n[w];return rt(e)},_embind_finalize_value_object:function(e){var t=Jt[e];delete Jt[e];var n=t.Va,i=t.W,a=t.fb,u=a.map(f=>f.Vb).concat(a.map(f=>f.kc));Ge([e],u,f=>{var v={};return a.forEach((w,m)=>{var F=f[m],S=w.Tb,B=w.Ub,y=f[m+a.length],P=w.jc,O=w.lc;v[w.Pb]={read:N=>F.fromWireType(S(B,N)),write:(N,G)=>{var K=[];P(O,N,y.toWireType(K,G)),Wt(K)}}}),[{name:t.name,fromWireType:function(w){var m={},F;for(F in v)m[F]=v[F].read(w);return i(w),m},toWireType:function(w,m){for(var F in v)if(!(F in m))throw new TypeError(`Missing field: "${F}"`);var S=n();for(F in v)v[F].write(S,m[F]);return w!==null&&w.push(i,S),S},argPackAdvance:8,readValueFromPointer:Dt,K:i}]})},_embind_register_bigint:function(){},_embind_register_bool:function(e,t,n,i,a){var u=en(n);t=Pe(t),it(e,{name:t,fromWireType:function(f){return!!f},toWireType:function(f,v){return v?i:a},argPackAdvance:8,readValueFromPointer:function(f){if(n===1)var v=R;else if(n===2)v=I;else if(n===4)v=C;else throw new TypeError("Unknown boolean type size: "+t);return this.fromWireType(v[f>>u])},K:null})},_embind_register_class:function(e,t,n,i,a,u,f,v,w,m,F,S,B){F=Pe(F),u=De(a,u),v&&(v=De(f,v)),m&&(m=De(w,m)),B=De(S,B);var y=qn(F);In(y,function(){dt(`Cannot construct ${F} due to unbound types`,[i])}),Ge([e,t,n],i?[i]:[],function(P){if(P=P[0],i)var O=P.i,N=O.N;else N=mt.prototype;P=Xt(y,function(){if(Object.getPrototypeOf(this)!==G)throw new Pt("Use 'new' to construct "+F);if(K.$===void 0)throw new Pt(F+" has no accessible constructor");var Ae=K.$[arguments.length];if(Ae===void 0)throw new Pt(`Tried to invoke ctor of ${F} with invalid number of parameters (${arguments.length}) - expected (${Object.keys(K.$).toString()}) parameters instead!`);return Ae.apply(this,arguments)});var G=Object.create(N,{constructor:{value:P}});P.prototype=G;var K=new Wr(F,P,G,B,O,u,v,m);K.A&&(K.A.qa===void 0&&(K.A.qa=[]),K.A.qa.push(K)),O=new ft(F,K,!0,!1),N=new ft(F+"*",K,!1,!1);var _e=new ft(F+" const*",K,!1,!0);return rr[e]={pointerType:N,Jb:_e},or(y,P),[O,N,_e]})},_embind_register_class_class_function:function(e,t,n,i,a,u,f){var v=on(n,i);t=Pe(t),u=De(a,u),Ge([],[e],function(w){function m(){dt(`Cannot call ${F} due to unbound types`,v)}w=w[0];var F=`${w.name}.${t}`;t.startsWith("@@")&&(t=Symbol[t.substring(2)]);var S=w.i.constructor;return S[t]===void 0?(m.ha=n-1,S[t]=m):(Pn(S,t,F),S[t].B[n-1]=m),Ge([],v,function(B){if(B=rn(F,[B[0],null].concat(B.slice(1)),null,u,f),S[t].B===void 0?(B.ha=n-1,S[t]=B):S[t].B[n-1]=B,w.i.qa)for(const y of w.i.qa)y.constructor.hasOwnProperty(t)||(y.constructor[t]=B);return[]}),[]})},_embind_register_class_class_property:function(e,t,n,i,a,u,f,v){t=Pe(t),u=De(a,u),Ge([],[e],function(w){w=w[0];var m=`${w.name}.${t}`,F={get(){dt(`Cannot access ${m} due to unbound types`,[n])},enumerable:!0,configurable:!0};return F.set=v?()=>{dt(`Cannot access ${m} due to unbound types`,[n])}:()=>{Q(`${m} is a read-only property`)},Object.defineProperty(w.i.constructor,t,F),Ge([],[n],function(S){S=S[0];var B={get(){return S.fromWireType(u(i))},enumerable:!0};return v&&(v=De(f,v),B.set=y=>{var P=[];v(i,S.toWireType(P,y)),Wt(P)}),Object.defineProperty(w.i.constructor,t,B),[]}),[]})},_embind_register_class_constructor:function(e,t,n,i,a,u){var f=on(t,n);a=De(i,a),Ge([],[e],function(v){v=v[0];var w=`constructor ${v.name}`;if(v.i.$===void 0&&(v.i.$=[]),v.i.$[t-1]!==void 0)throw new Pt(`Cannot register multiple constructors with identical number of parameters (${t-1}) for class '${v.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return v.i.$[t-1]=()=>{dt(`Cannot construct ${v.name} due to unbound types`,f)},Ge([],f,function(m){return m.splice(1,0,null),v.i.$[t-1]=rn(w,m,null,a,u),[]}),[]})},_embind_register_class_function:function(e,t,n,i,a,u,f,v){var w=on(n,i);t=Pe(t),u=De(a,u),Ge([],[e],function(m){function F(){dt(`Cannot call ${S} due to unbound types`,w)}m=m[0];var S=`${m.name}.${t}`;t.startsWith("@@")&&(t=Symbol[t.substring(2)]),v&&m.i.qb.push(t);var B=m.i.N,y=B[t];return y===void 0||y.B===void 0&&y.className!==m.name&&y.ha===n-2?(F.ha=n-2,F.className=m.name,B[t]=F):(Pn(B,t,S),B[t].B[n-2]=F),Ge([],w,function(P){return P=rn(S,P,m,u,f),B[t].B===void 0?(P.ha=n-2,B[t]=P):B[t].B[n-2]=P,[]}),[]})},_embind_register_class_property:function(e,t,n,i,a,u,f,v,w,m){t=Pe(t),a=De(i,a),Ge([],[e],function(F){F=F[0];var S=`${F.name}.${t}`,B={get(){dt(`Cannot access ${S} due to unbound types`,[n,f])},enumerable:!0,configurable:!0};return B.set=w?()=>{dt(`Cannot access ${S} due to unbound types`,[n,f])}:()=>{Q(S+" is a read-only property")},Object.defineProperty(F.i.N,t,B),Ge([],w?[n,f]:[n],function(y){var P=y[0],O={get(){var G=ur(this,F,S+" getter");return P.fromWireType(a(u,G))},enumerable:!0};if(w){w=De(v,w);var N=y[1];O.set=function(G){var K=ur(this,F,S+" setter"),_e=[];w(m,K,N.toWireType(_e,G)),Wt(_e)}}return Object.defineProperty(F.i.N,t,O),[]}),[]})},_embind_register_emval:function(e,t){t=Pe(t),it(e,{name:t,fromWireType:function(n){var i=et(n);return En(n),i},toWireType:function(n,i){return rt(i)},argPackAdvance:8,readValueFromPointer:Dt,K:null})},_embind_register_enum:function(e,t,n,i){function a(){}n=en(n),t=Pe(t),a.values={},it(e,{name:t,constructor:a,fromWireType:function(u){return this.constructor.values[u]},toWireType:function(u,f){return f.value},argPackAdvance:8,readValueFromPointer:zr(t,n,i),K:null}),In(t,a)},_embind_register_enum_value:function(e,t,n){var i=Vt(e,"enum");t=Pe(t),e=i.constructor,i=Object.create(i.constructor.prototype,{value:{value:n},constructor:{value:Xt(`${i.name}_${t}`,function(){})}}),e.values[n]=i,e[t]=i},_embind_register_float:function(e,t,n){n=en(n),t=Pe(t),it(e,{name:t,fromWireType:function(i){return i},toWireType:function(i,a){return a},argPackAdvance:8,readValueFromPointer:$r(t,n),K:null})},_embind_register_function:function(e,t,n,i,a,u){var f=on(t,n);e=Pe(e),a=De(i,a),In(e,function(){dt(`Cannot call ${e} due to unbound types`,f)},t-1),Ge([],f,function(v){return or(e,rn(e,[v[0],null].concat(v.slice(1)),null,a,u),t-1),[]})},_embind_register_integer:function(e,t,n,i,a){t=Pe(t),a===-1&&(a=4294967295),a=en(n);var u=v=>v;if(i===0){var f=32-8*n;u=v=>v<<f>>>f}n=t.includes("unsigned")?function(v,w){return w>>>0}:function(v,w){return w},it(e,{name:t,fromWireType:u,toWireType:n,argPackAdvance:8,readValueFromPointer:Hr(t,a,i!==0),K:null})},_embind_register_memory_view:function(e,t,n){function i(u){u>>=2;var f=U;return new a(f.buffer,f[u+1],f[u])}var a=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][t];n=Pe(n),it(e,{name:n,fromWireType:i,argPackAdvance:8,readValueFromPointer:i},{Xb:!0})},_embind_register_std_string:function(e,t){t=Pe(t);var n=t==="std::string";it(e,{name:t,fromWireType:function(i){var a=U[i>>2],u=i+4;if(n)for(var f=u,v=0;v<=a;++v){var w=u+v;if(v==a||L[w]==0){if(f=f?V(L,f,w-f):"",m===void 0)var m=f;else m+="\0",m+=f;f=w+1}}else{for(m=Array(a),v=0;v<a;++v)m[v]=String.fromCharCode(L[u+v]);m=m.join("")}return ht(i),m},toWireType:function(i,a){a instanceof ArrayBuffer&&(a=new Uint8Array(a));var u=typeof a=="string";u||a instanceof Uint8Array||a instanceof Uint8ClampedArray||a instanceof Int8Array||Q("Cannot pass non-string to std::string");var f=n&&u?pe(a):a.length,v=vn(4+f+1),w=v+4;if(U[v>>2]=f,n&&u)We(a,L,w,f+1);else if(u)for(u=0;u<f;++u){var m=a.charCodeAt(u);255<m&&(ht(w),Q("String has UTF-16 code units that do not fit in 8 bits")),L[w+u]=m}else for(u=0;u<f;++u)L[w+u]=a[u];return i!==null&&i.push(ht,v),v},argPackAdvance:8,readValueFromPointer:Dt,K:function(i){ht(i)}})},_embind_register_std_wstring:function(e,t,n){if(n=Pe(n),t===2)var i=Gr,a=Yr,u=Xr,f=()=>D,v=1;else t===4&&(i=qr,a=Kr,u=Qr,f=()=>U,v=2);it(e,{name:n,fromWireType:function(w){for(var m=U[w>>2],F=f(),S,B=w+4,y=0;y<=m;++y){var P=w+4+y*t;(y==m||F[P>>v]==0)&&(B=i(B,P-B),S===void 0?S=B:(S+="\0",S+=B),B=P+t)}return ht(w),S},toWireType:function(w,m){typeof m!="string"&&Q(`Cannot pass non-string to C++ string type ${n}`);var F=u(m),S=vn(4+F+t);return U[S>>2]=F>>v,a(m,S+4,F+t),w!==null&&w.push(ht,S),S},argPackAdvance:8,readValueFromPointer:Dt,K:function(w){ht(w)}})},_embind_register_value_object:function(e,t,n,i,a,u){Jt[e]={name:Pe(t),Va:De(n,i),W:De(a,u),fb:[]}},_embind_register_value_object_field:function(e,t,n,i,a,u,f,v,w,m){Jt[e].fb.push({Pb:Pe(t),Vb:n,Tb:De(i,a),Ub:u,kc:f,jc:De(v,w),lc:m})},_embind_register_void:function(e,t){t=Pe(t),it(e,{cc:!0,name:t,argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},_emscripten_get_now_is_monotonic:()=>!0,_emval_as:function(e,t,n){e=et(e),t=Vt(t,"emval::as");var i=[],a=rt(i);return U[n>>2]=a,t.toWireType(i,e)},_emval_call_method:function(e,t,n,i,a){e=an[e],t=et(t),n=Fn(n);var u=[];return U[i>>2]=rt(u),e(t,n,u,a)},_emval_call_void_method:function(e,t,n,i){e=an[e],t=et(t),n=Fn(n),e(t,n,null,i)},_emval_decref:En,_emval_get_method_caller:function(e,t){var n=ei(e,t),i=n[0];t=i.name+"_$"+n.slice(1).map(function(f){return f.name}).join("_")+"$";var a=cr[t];if(a!==void 0)return a;var u=Array(e-1);return a=Zr((f,v,w,m)=>{for(var F=0,S=0;S<e-1;++S)u[S]=n[S+1].readValueFromPointer(m+F),F+=n[S+1].argPackAdvance;for(f=f[v].apply(f,u),S=0;S<e-1;++S)n[S+1].Lb&&n[S+1].Lb(u[S]);if(!i.cc)return i.toWireType(w,f)}),cr[t]=a},_emval_get_property:function(e,t){return e=et(e),t=et(t),rt(e[t])},_emval_incref:function(e){4<e&&(Ke.get(e).ub+=1)},_emval_new_array:function(){return rt([])},_emval_new_cstring:function(e){return rt(Fn(e))},_emval_new_object:function(){return rt({})},_emval_run_destructors:function(e){var t=et(e);Wt(t),En(e)},_emval_set_property:function(e,t,n){e=et(e),t=et(t),n=et(n),e[t]=n},_emval_take_value:function(e,t){return e=Vt(e,"_emval_take_value"),e=e.readValueFromPointer(t),rt(e)},abort:()=>{oe("")},beginPixelLocalStorageWEBGL:function(e,t,n){(e=Te[e].C.ca)&&e.beginPixelLocalStorageWEBGL(c.HEAPU32.subarray(n,n+t))},decode_image:function(e,t,n){var i=c.images;i||(i=new Map,c.images=i);var a=new Image;i.set(e,a),t=c.HEAP8.subarray(t,t+n),n=new Uint8Array(n),n.set(t),a.src=URL.createObjectURL(new Blob([n],{type:"image/png"})),a.onload=function(){c._setWebImage(e,a.width,a.height)}},delete_image:function(e){var t=c.images;t&&t.get(e)&&t.delete(e)},emscripten_asm_const_int:(e,t,n)=>{Ln.length=0;var i;for(n>>=2;i=L[t++];)n+=i!=105&n,Ln.push(i==105?C[n]:ce[n++>>1]),++n;return Mt[e].apply(null,Ln)},emscripten_date_now:function(){return Date.now()},emscripten_get_now:()=>performance.now(),emscripten_memcpy_big:(e,t,n)=>L.copyWithin(e,t,t+n),emscripten_resize_heap:e=>{var t=L.length;if(e>>>=0,2147483648<e)return!1;for(var n=1;4>=n;n*=2){var i=t*(1+.2/n);i=Math.min(i,e+100663296);var a=Math;i=Math.max(e,i);e:{a=a.min.call(a,2147483648,i+(65536-i%65536)%65536)-g.buffer.byteLength+65535>>>16;try{g.grow(a),se();var u=1;break e}catch{}u=void 0}if(u)return!0}return!1},emscripten_webgl_enable_extension:function(e,t){return e=Te[e],t=t?V(L,t):"",t.startsWith("GL_")&&(t=t.substr(3)),t=="WEBGL_draw_instanced_base_vertex_base_instance"&&fr(M),t=="WEBGL_multi_draw_instanced_base_vertex_base_instance"&&dr(M),t=="WEBGL_multi_draw"&&pr(M),!!e.C.getExtension(t)},emscripten_webgl_get_current_context:function(){return ot?ot.handle:0},emscripten_webgl_make_context_current:function(e){return kn(e)?0:-5},enable_WEBGL_provoking_vertex:function(e){return e=Te[e].C,e.rb=e.getExtension("WEBGL_provoking_vertex"),!!e.rb},enable_WEBGL_shader_pixel_local_storage_coherent:function(e){return e=Te[e].C,e.ca=e.getExtension("WEBGL_shader_pixel_local_storage"),!(!e.ca||!e.ca.isCoherent())},endPixelLocalStorageWEBGL:function(e,t,n){(e=Te[e].C.ca)&&e.endPixelLocalStorageWEBGL(c.HEAPU32.subarray(n,n+t))},environ_get:(e,t)=>{var n=0;return mr().forEach(function(i,a){var u=t+n;for(a=U[e+4*a>>2]=u,u=0;u<i.length;++u)R[a++>>0]=i.charCodeAt(u);R[a>>0]=0,n+=i.length+1}),0},environ_sizes_get:(e,t)=>{var n=mr();U[e>>2]=n.length;var i=0;return n.forEach(function(a){i+=a.length+1}),U[t>>2]=i,0},fd_close:function(e){try{var t=pt(e);if(t.X===null)throw new W(8);t.Sa&&(t.Sa=null);try{t.m.close&&t.m.close(t)}catch(n){throw n}finally{Je[t.X]=null}return t.X=null,0}catch(n){if(typeof bt>"u"||n.name!=="ErrnoError")throw n;return n.aa}},fd_read:function(e,t,n,i){try{e:{var a=pt(e);e=t;for(var u,f=t=0;f<n;f++){var v=U[e>>2],w=U[e+4>>2];e+=8;var m=a,F=v,S=w,B=u,y=R;if(0>S||0>B)throw new W(28);if(m.X===null)throw new W(8);if((m.flags&2097155)===1)throw new W(8);if((m.node.mode&61440)===16384)throw new W(31);if(!m.m.read)throw new W(28);var P=typeof B<"u";if(!P)B=m.position;else if(!m.seekable)throw new W(70);var O=m.m.read(m,y,F,S,B);P||(m.position+=O);var N=O;if(0>N){var G=-1;break e}if(t+=N,N<w)break;typeof u<"u"&&(u+=N)}G=t}return U[i>>2]=G,0}catch(K){if(typeof bt>"u"||K.name!=="ErrnoError")throw K;return K.aa}},fd_seek:function(e,t,n,i,a){t=n+2097152>>>0<4194305-!!t?(t>>>0)+4294967296*n:NaN;try{if(isNaN(t))return 61;var u=pt(e);return Gn(u,t,i),yt=[u.position>>>0,(nt=u.position,1<=+Math.abs(nt)?0<nt?+Math.floor(nt/4294967296)>>>0:~~+Math.ceil((nt-+(~~nt>>>0))/4294967296)>>>0:0)],C[a>>2]=yt[0],C[a+4>>2]=yt[1],u.Sa&&t===0&&i===0&&(u.Sa=null),0}catch(f){if(typeof bt>"u"||f.name!=="ErrnoError")throw f;return f.aa}},fd_write:function(e,t,n,i){try{e:{var a=pt(e);e=t;for(var u,f=t=0;f<n;f++){var v=U[e>>2],w=U[e+4>>2];e+=8;var m=a,F=v,S=w,B=u,y=R;if(0>S||0>B)throw new W(28);if(m.X===null)throw new W(8);if((m.flags&2097155)===0)throw new W(8);if((m.node.mode&61440)===16384)throw new W(31);if(!m.m.write)throw new W(28);m.seekable&&m.flags&1024&&Gn(m,0,2);var P=typeof B<"u";if(!P)B=m.position;else if(!m.seekable)throw new W(70);var O=m.m.write(m,y,F,S,B,void 0);P||(m.position+=O);var N=O;if(0>N){var G=-1;break e}t+=N,typeof u<"u"&&(u+=N)}G=t}return U[i>>2]=G,0}catch(K){if(typeof bt>"u"||K.name!=="ErrnoError")throw K;return K.aa}},framebufferPixelLocalClearValuefvWEBGL:function(e,t,n,i,a,u){(e=Te[e].C.ca)&&e.framebufferPixelLocalClearValuefvWEBGL(t,[n,i,a,u])},framebufferTexturePixelLocalStorageWEBGL:function(e,t,n,i,a){(e=Te[e].C.ca)&&e.framebufferTexturePixelLocalStorageWEBGL(t,Rt[n],i,a)},getFramebufferPixelLocalStorageParameterivWEBGL:function(e,t,n){return(e=Te[e].C.ca)?e.getFramebufferPixelLocalStorageParameterWEBGL(t,n):0},glActiveTexture:function(e){M.activeTexture(e)},glAttachShader:function(e,t){M.attachShader(tt[e],At[t])},glBindBuffer:function(e,t){e==35051?M.Pa=t:e==35052&&(M.Qa=t),M.bindBuffer(e,Bt[t])},glBindBufferRange:function(e,t,n,i,a){M.bindBufferRange(e,t,Bt[n],i,a)},glBindFramebuffer:function(e,t){M.bindFramebuffer(e,sn[t])},glBindRenderbuffer:function(e,t){M.bindRenderbuffer(e,Ut[t])},glBindTexture:function(e,t){M.bindTexture(e,Rt[t])},glBindVertexArray:function(e){M.bindVertexArray(un[e])},glBlendEquation:function(e){M.blendEquation(e)},glBlendFunc:function(e,t){M.blendFunc(e,t)},glBlitFramebuffer:function(e,t,n,i,a,u,f,v,w,m){M.blitFramebuffer(e,t,n,i,a,u,f,v,w,m)},glBufferData:function(e,t,n,i){n&&t?M.bufferData(e,L,i,n,t):M.bufferData(e,t,i)},glBufferSubData:function(e,t,n,i){n&&M.bufferSubData(e,t,L,i,n)},glClear:function(e){M.clear(e)},glClearBufferfv:function(e,t,n){M.clearBufferfv(e,t,ae,n>>2)},glClearBufferuiv:function(e,t,n){M.clearBufferuiv(e,t,U,n>>2)},glClearColor:function(e,t,n,i){M.clearColor(e,t,n,i)},glClearDepthf:function(e){M.clearDepth(e)},glClearStencil:function(e){M.clearStencil(e)},glColorMask:function(e,t,n,i){M.colorMask(!!e,!!t,!!n,!!i)},glCompileShader:function(e){M.compileShader(At[e])},glCreateProgram:function(){var e=ln(tt),t=M.createProgram();return t.name=e,t.Ba=t.za=t.Aa=0,t.Ya=1,tt[e]=t,e},glCreateShader:function(e){var t=ln(At);return At[t]=M.createShader(e),t},glCullFace:function(e){M.cullFace(e)},glDeleteBuffers:function(e,t){for(var n=0;n<e;n++){var i=C[t+4*n>>2],a=Bt[i];a&&(M.deleteBuffer(a),a.name=0,Bt[i]=null,i==M.Pa&&(M.Pa=0),i==M.Qa&&(M.Qa=0))}},glDeleteFramebuffers:function(e,t){for(var n=0;n<e;++n){var i=C[t+4*n>>2],a=sn[i];a&&(M.deleteFramebuffer(a),a.name=0,sn[i]=null)}},glDeleteProgram:function(e){if(e){var t=tt[e];t?(M.deleteProgram(t),t.name=0,tt[e]=null):Be(1281)}},glDeleteRenderbuffers:function(e,t){for(var n=0;n<e;n++){var i=C[t+4*n>>2],a=Ut[i];a&&(M.deleteRenderbuffer(a),a.name=0,Ut[i]=null)}},glDeleteShader:function(e){if(e){var t=At[e];t?(M.deleteShader(t),At[e]=null):Be(1281)}},glDeleteTextures:function(e,t){for(var n=0;n<e;n++){var i=C[t+4*n>>2],a=Rt[i];a&&(M.deleteTexture(a),a.name=0,Rt[i]=null)}},glDeleteVertexArrays:function(e,t){for(var n=0;n<e;n++){var i=C[t+4*n>>2];M.deleteVertexArray(un[i]),un[i]=null}},glDepthFunc:function(e){M.depthFunc(e)},glDepthMask:function(e){M.depthMask(!!e)},glDepthRangef:function(e,t){M.depthRange(e,t)},glDisable:function(e){M.disable(e)},glDrawArrays:function(e,t,n){M.drawArrays(e,t,n)},glDrawArraysInstanced:function(e,t,n,i){M.drawArraysInstanced(e,t,n,i)},glDrawBuffers:function(e,t){for(var n=Tn[e],i=0;i<e;i++)n[i]=C[t+4*i>>2];M.drawBuffers(n)},glDrawElements:function(e,t,n,i){M.drawElements(e,t,n,i)},glDrawElementsInstanced:function(e,t,n,i,a){M.drawElementsInstanced(e,t,n,i,a)},glEnable:function(e){M.enable(e)},glEnableVertexAttribArray:function(e){M.enableVertexAttribArray(e)},glFlush:function(){M.flush()},glFramebufferRenderbuffer:function(e,t,n,i){M.framebufferRenderbuffer(e,t,n,Ut[i])},glFramebufferTexture2D:function(e,t,n,i,a){M.framebufferTexture2D(e,t,n,Rt[i],a)},glFrontFace:function(e){M.frontFace(e)},glGenBuffers:function(e,t){Nt(e,t,"createBuffer",Bt)},glGenFramebuffers:function(e,t){Nt(e,t,"createFramebuffer",sn)},glGenRenderbuffers:function(e,t){Nt(e,t,"createRenderbuffer",Ut)},glGenTextures:function(e,t){Nt(e,t,"createTexture",Rt)},glGenVertexArrays:function(e,t){Nt(e,t,"createVertexArray",un)},glGenerateMipmap:function(e){M.generateMipmap(e)},glGetError:function(){var e=M.getError()||cn;return cn=0,e},glGetIntegerv:function(e,t){ri(e,t)},glGetProgramiv:function(e,t,n){if(n)if(e>=hr)Be(1281);else if(e=tt[e],t==35716)e=M.getProgramInfoLog(e),e===null&&(e="(unknown error)"),C[n>>2]=e.length+1;else if(t==35719){if(!e.Ba)for(t=0;t<M.getProgramParameter(e,35718);++t)e.Ba=Math.max(e.Ba,M.getActiveUniform(e,t).name.length+1);C[n>>2]=e.Ba}else if(t==35722){if(!e.za)for(t=0;t<M.getProgramParameter(e,35721);++t)e.za=Math.max(e.za,M.getActiveAttrib(e,t).name.length+1);C[n>>2]=e.za}else if(t==35381){if(!e.Aa)for(t=0;t<M.getProgramParameter(e,35382);++t)e.Aa=Math.max(e.Aa,M.getActiveUniformBlockName(e,t).length+1);C[n>>2]=e.Aa}else C[n>>2]=M.getProgramParameter(e,t);else Be(1281)},glGetString:function(e){var t=vr[e];if(!t){switch(e){case 7939:t=M.getSupportedExtensions()||[],t=t.concat(t.map(function(i){return"GL_"+i})),t=fn(t.join(" "));break;case 7936:case 7937:case 37445:case 37446:(t=M.getParameter(e))||Be(1280),t=t&&fn(t);break;case 7938:t=fn("OpenGL ES 3.0 ("+M.getParameter(7938)+")");break;case 35724:t=M.getParameter(35724);var n=t.match(/^WebGL GLSL ES ([0-9]\.[0-9][0-9]?)(?:$| .*)/);n!==null&&(n[1].length==3&&(n[1]+="0"),t="OpenGL ES GLSL ES "+n[1]+" ("+t+")"),t=fn(t);break;default:Be(1280)}vr[e]=t}return t},glGetUniformBlockIndex:function(e,t){return M.getUniformBlockIndex(tt[e],t?V(L,t):"")},glGetUniformLocation:function(e,t){if(t=t?V(L,t):"",e=tt[e]){var n=e,i=n.oa,a=n.zb,u;if(!i)for(n.oa=i={},n.yb={},u=0;u<M.getProgramParameter(n,35718);++u){var f=M.getActiveUniform(n,u),v=f.name;f=f.size;var w=gr(v);w=0<w?v.slice(0,w):v;var m=n.Ya;for(n.Ya+=f,a[w]=[f,m],v=0;v<f;++v)i[m]=v,n.yb[m++]=w}if(n=e.oa,i=0,a=t,u=gr(t),0<u&&(i=parseInt(t.slice(u+1))>>>0,a=t.slice(0,u)),(a=e.zb[a])&&i<a[0]&&(i+=a[1],n[i]=n[i]||M.getUniformLocation(e,t)))return i}else Be(1281);return-1},glInvalidateFramebuffer:function(e,t,n){for(var i=Tn[t],a=0;a<t;a++)i[a]=C[n+4*a>>2];M.invalidateFramebuffer(e,i)},glLinkProgram:function(e){e=tt[e],M.linkProgram(e),e.oa=0,e.zb={}},glPixelStorei:function(e,t){M.pixelStorei(e,t)},glReadPixels:function(e,t,n,i,a,u,f){if(M.Pa)M.readPixels(e,t,n,i,a,u,f);else{var v=yr(u);M.readPixels(e,t,n,i,a,u,v,f>>31-Math.clz32(v.BYTES_PER_ELEMENT))}},glRenderbufferStorageMultisample:function(e,t,n,i,a){M.renderbufferStorageMultisample(e,t,n,i,a)},glScissor:function(e,t,n,i){M.scissor(e,t,n,i)},glShaderSource:function(e,t,n,i){for(var a="",u=0;u<t;++u){var f=i?C[i+4*u>>2]:-1,v=C[n+4*u>>2];f=v?V(L,v,0>f?void 0:f):"",a+=f}M.shaderSource(At[e],a)},glStencilFunc:function(e,t,n){M.stencilFunc(e,t,n)},glStencilFuncSeparate:function(e,t,n,i){M.stencilFuncSeparate(e,t,n,i)},glStencilMask:function(e){M.stencilMask(e)},glStencilOp:function(e,t,n){M.stencilOp(e,t,n)},glStencilOpSeparate:function(e,t,n,i){M.stencilOpSeparate(e,t,n,i)},glTexParameteri:function(e,t,n){M.texParameteri(e,t,n)},glTexStorage2D:function(e,t,n,i,a){M.texStorage2D(e,t,n,i,a)},glTexSubImage2D:function(e,t,n,i,a,u,f,v,w){if(M.Qa)M.texSubImage2D(e,t,n,i,a,u,f,v,w);else if(w){var m=yr(v);M.texSubImage2D(e,t,n,i,a,u,f,v,m,w>>31-Math.clz32(m.BYTES_PER_ELEMENT))}else M.texSubImage2D(e,t,n,i,a,u,f,v,null)},glUniform1i:function(e,t){var n=M,i=n.uniform1i,a=M.Kb;if(a){var u=a.oa[e];typeof u=="number"&&(a.oa[e]=u=M.getUniformLocation(a,a.yb[e]+(0<u?"["+u+"]":""))),e=u}else Be(1282),e=void 0;i.call(n,e,t)},glUniformBlockBinding:function(e,t,n){e=tt[e],M.uniformBlockBinding(e,t,n)},glUseProgram:function(e){e=tt[e],M.useProgram(e),M.Kb=e},glVertexAttribDivisor:function(e,t){M.vertexAttribDivisor(e,t)},glVertexAttribIPointer:function(e,t,n,i,a){M.vertexAttribIPointer(e,t,n,i,a)},glVertexAttribPointer:function(e,t,n,i,a,u){M.vertexAttribPointer(e,t,n,!!i,a,u)},glViewport:function(e,t,n,i){M.viewport(e,t,n,i)},provokingVertexWEBGL:function(e,t){(e=Te[e].C.rb)&&e.provokingVertexWEBGL(t)},strftime_l:(e,t,n,i)=>ii(e,t,n,i),upload_image:function(e,t){var n=c.images;n&&(t=n.get(t))&&(e=Te[e].C,e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1))}};(function(){function e(n){if(p=n=n.exports,g=p.memory,se(),Y=p.__indirect_function_table,le.unshift(p.__wasm_call_ctors),he--,c.monitorRunDependencies&&c.monitorRunDependencies(he),he==0&&z){var i=z;z=null,i()}return n}var t={env:Cr,wasi_snapshot_preview1:Cr};if(he++,c.monitorRunDependencies&&c.monitorRunDependencies(he),c.instantiateWasm)try{return c.instantiateWasm(t,e)}catch(n){_("Module.instantiateWasm callback failed with error: "+n),Ce(n)}return Ct(t,function(n){e(n.instance)}).catch(Ce),{}})();var ht=e=>(ht=p.free)(e),vn=e=>(vn=p.malloc)(e);c._setWebImage=(e,t,n)=>(c._setWebImage=p.setWebImage)(e,t,n);var Mr=()=>(Mr=p.__errno_location)(),Pr=c._ma_device__on_notification_unlocked=e=>(Pr=c._ma_device__on_notification_unlocked=p.ma_device__on_notification_unlocked)(e);c._ma_malloc_emscripten=(e,t)=>(c._ma_malloc_emscripten=p.ma_malloc_emscripten)(e,t),c._ma_free_emscripten=(e,t)=>(c._ma_free_emscripten=p.ma_free_emscripten)(e,t);var Ir=c._ma_device_process_pcm_frames_capture__webaudio=(e,t,n)=>(Ir=c._ma_device_process_pcm_frames_capture__webaudio=p.ma_device_process_pcm_frames_capture__webaudio)(e,t,n),Er=c._ma_device_process_pcm_frames_playback__webaudio=(e,t,n)=>(Er=c._ma_device_process_pcm_frames_playback__webaudio=p.ma_device_process_pcm_frames_playback__webaudio)(e,t,n),Rr=e=>(Rr=p.__getTypeName)(e);c.__embind_initialize_bindings=()=>(c.__embind_initialize_bindings=p._embind_initialize_bindings)(),c.dynCall_iiiji=(e,t,n,i,a,u)=>(c.dynCall_iiiji=p.dynCall_iiiji)(e,t,n,i,a,u),c.dynCall_iij=(e,t,n,i)=>(c.dynCall_iij=p.dynCall_iij)(e,t,n,i),c.dynCall_iiji=(e,t,n,i,a)=>(c.dynCall_iiji=p.dynCall_iiji)(e,t,n,i,a),c.dynCall_jii=(e,t,n)=>(c.dynCall_jii=p.dynCall_jii)(e,t,n),c.dynCall_vijj=(e,t,n,i,a,u)=>(c.dynCall_vijj=p.dynCall_vijj)(e,t,n,i,a,u),c.dynCall_jiji=(e,t,n,i,a)=>(c.dynCall_jiji=p.dynCall_jiji)(e,t,n,i,a),c.dynCall_viijii=(e,t,n,i,a,u,f)=>(c.dynCall_viijii=p.dynCall_viijii)(e,t,n,i,a,u,f),c.dynCall_iiiiij=(e,t,n,i,a,u,f)=>(c.dynCall_iiiiij=p.dynCall_iiiiij)(e,t,n,i,a,u,f),c.dynCall_iiiiijj=(e,t,n,i,a,u,f,v,w)=>(c.dynCall_iiiiijj=p.dynCall_iiiiijj)(e,t,n,i,a,u,f,v,w),c.dynCall_iiiiiijj=(e,t,n,i,a,u,f,v,w,m)=>(c.dynCall_iiiiiijj=p.dynCall_iiiiiijj)(e,t,n,i,a,u,f,v,w,m),c.___start_em_js=532308,c.___stop_em_js=535063;var pn;z=function e(){pn||Fr(),pn||(z=e)};function Fr(){function e(){if(!pn&&(pn=!0,c.calledRun=!0,!k)){if(c.noFSInit||Xn||(Xn=!0,Yn(),c.stdin=c.stdin,c.stdout=c.stdout,c.stderr=c.stderr,c.stdin?Ot("stdin",c.stdin):wn("/dev/tty","/dev/stdin"),c.stdout?Ot("stdout",null,c.stdout):wn("/dev/tty","/dev/stdout"),c.stderr?Ot("stderr",null,c.stderr):wn("/dev/tty1","/dev/stderr"),Gt("/dev/stdin",0),Gt("/dev/stdout",1),Gt("/dev/stderr",1)),Wn=!1,s(le),Fe(c),c.onRuntimeInitialized&&c.onRuntimeInitialized(),c.postRun)for(typeof c.postRun=="function"&&(c.postRun=[c.postRun]);c.postRun.length;){var t=c.postRun.shift();Ve.unshift(t)}s(Ve)}}if(!(0<he)){if(c.preRun)for(typeof c.preRun=="function"&&(c.preRun=[c.preRun]);c.preRun.length;)Me();s(we),0<he||(c.setStatus?(c.setStatus("Running..."),setTimeout(function(){setTimeout(function(){c.setStatus("")},1),e()},1)):e())}}if(c.preInit)for(typeof c.preInit=="function"&&(c.preInit=[c.preInit]);0<c.preInit.length;)c.preInit.pop()();return Fr(),H.ready}})();const re=ne},ve=>{ve.exports=JSON.parse(`{"name":"@rive-app/webgl2","version":"2.31.6","description":"Rive's webgl2 based web api.","main":"rive.js","homepage":"https://rive.app","repository":{"type":"git","url":"https://github.com/rive-app/rive-wasm/tree/master/js"},"keywords":["rive","animation"],"author":"Rive","contributors":["Luigi Rosso <luigi@rive.app> (https://rive.app)","Maxwell Talbot <max@rive.app> (https://rive.app)","Arthur Vivian <arthur@rive.app> (https://rive.app)","Umberto Sonnino <umberto@rive.app> (https://rive.app)","Matthew Sullivan <matt.j.sullivan@gmail.com> (mailto:matt.j.sullivan@gmail.com)","Chris Dalton <chris@rive.app> (https://rive.app)"],"license":"MIT","files":["rive.js","rive.wasm","rive.js.map","rive.d.ts","rive_advanced.mjs.d.ts"],"typings":"rive.d.ts","dependencies":{},"browser":{"fs":false,"path":false}}`)},(ve,ee,Z)=>{Z.r(ee),Z.d(ee,{Animation:()=>ne.Animation});var ne=Z(4)},(ve,ee,Z)=>{Z.r(ee),Z.d(ee,{Animation:()=>ne});var ne=function(){function re(te,H,c,Fe){this.animation=te,this.artboard=H,this.playing=Fe,this.loopCount=0,this.scrubTo=null,this.instance=new c.LinearAnimationInstance(te,H)}return Object.defineProperty(re.prototype,"name",{get:function(){return this.animation.name},enumerable:!1,configurable:!0}),Object.defineProperty(re.prototype,"time",{get:function(){return this.instance.time},set:function(te){this.instance.time=te},enumerable:!1,configurable:!0}),Object.defineProperty(re.prototype,"loopValue",{get:function(){return this.animation.loopValue},enumerable:!1,configurable:!0}),Object.defineProperty(re.prototype,"needsScrub",{get:function(){return this.scrubTo!==null},enumerable:!1,configurable:!0}),re.prototype.advance=function(te){this.scrubTo===null?this.instance.advance(te):(this.instance.time=0,this.instance.advance(this.scrubTo),this.scrubTo=null)},re.prototype.apply=function(te){this.instance.apply(te)},re.prototype.cleanup=function(){this.instance.delete()},re}()},(ve,ee,Z)=>{Z.r(ee),Z.d(ee,{AudioAssetWrapper:()=>te.AudioAssetWrapper,AudioWrapper:()=>te.AudioWrapper,BLANK_URL:()=>re.BLANK_URL,CustomFileAssetLoaderWrapper:()=>te.CustomFileAssetLoaderWrapper,FileAssetWrapper:()=>te.FileAssetWrapper,FileFinalizer:()=>te.FileFinalizer,FontAssetWrapper:()=>te.FontAssetWrapper,FontWrapper:()=>te.FontWrapper,ImageAssetWrapper:()=>te.ImageAssetWrapper,ImageWrapper:()=>te.ImageWrapper,createFinalization:()=>te.createFinalization,finalizationRegistry:()=>te.finalizationRegistry,registerTouchInteractions:()=>ne.registerTouchInteractions,sanitizeUrl:()=>re.sanitizeUrl});var ne=Z(6),re=Z(7),te=Z(8)},(ve,ee,Z)=>{Z.r(ee),Z.d(ee,{registerTouchInteractions:()=>te});var ne=void 0,re=function(H,c){var Fe,Ce;return["touchstart","touchmove"].indexOf(H.type)>-1&&(!((Fe=H.touches)===null||Fe===void 0)&&Fe.length)?(c||H.preventDefault(),{clientX:H.touches[0].clientX,clientY:H.touches[0].clientY}):H.type==="touchend"&&(!((Ce=H.changedTouches)===null||Ce===void 0)&&Ce.length)?{clientX:H.changedTouches[0].clientX,clientY:H.changedTouches[0].clientY}:{clientX:H.clientX,clientY:H.clientY}},te=function(H){var c=H.canvas,Fe=H.artboard,Ce=H.stateMachines,Ue=Ce===void 0?[]:Ce,de=H.renderer,ue=H.rive,Ee=H.fit,ge=H.alignment,ye=H.isTouchScrollEnabled,Le=ye===void 0?!1:ye,xe=H.layoutScaleFactor,je=xe===void 0?1:xe;if(!c||!Ue.length||!de||!ue||!Fe||typeof window>"u")return null;var j=null,x=!1,d=function(A){if(x&&A instanceof MouseEvent){A.type=="mouseup"&&(x=!1);return}x=Le&&A.type==="touchend"&&j==="touchstart",j=A.type;var g=A.currentTarget.getBoundingClientRect(),p=re(A,Le),k=p.clientX,R=p.clientY;if(!(!k&&!R)){var L=k-g.left,I=R-g.top,D=ue.computeAlignment(Ee,ge,{minX:0,minY:0,maxX:g.width,maxY:g.height},Fe.bounds,je),C=new ue.Mat2D;D.invert(C);var U=new ue.Vec2D(L,I),ae=ue.mapXY(C,U),ce=ae.x(),se=ae.y();switch(ae.delete(),C.delete(),U.delete(),D.delete(),A.type){case"mouseout":for(var Y=0,we=Ue;Y<we.length;Y++){var le=we[Y];le.pointerMove(ce,se)}break;case"touchmove":case"mouseover":case"mousemove":{for(var Ve=0,Me=Ue;Ve<Me.length;Ve++){var le=Me[Ve];le.pointerMove(ce,se)}break}case"touchstart":case"mousedown":{for(var he=0,z=Ue;he<z.length;he++){var le=z[he];le.pointerDown(ce,se)}break}case"touchend":case"mouseup":{for(var oe=0,Oe=Ue;oe<Oe.length;oe++){var le=Oe[oe];le.pointerUp(ce,se)}break}}}},_=d.bind(ne);return c.addEventListener("mouseover",_),c.addEventListener("mouseout",_),c.addEventListener("mousemove",_),c.addEventListener("mousedown",_),c.addEventListener("mouseup",_),c.addEventListener("touchmove",_,{passive:Le}),c.addEventListener("touchstart",_,{passive:Le}),c.addEventListener("touchend",_),function(){c.removeEventListener("mouseover",_),c.removeEventListener("mouseout",_),c.removeEventListener("mousemove",_),c.removeEventListener("mousedown",_),c.removeEventListener("mouseup",_),c.removeEventListener("touchmove",_),c.removeEventListener("touchstart",_),c.removeEventListener("touchend",_)}}},(ve,ee,Z)=>{Z.r(ee),Z.d(ee,{BLANK_URL:()=>Ce,sanitizeUrl:()=>ue});var ne=/^([^\w]*)(javascript|data|vbscript)/im,re=/&#(\w+)(^\w|;)?/g,te=/&(newline|tab);/gi,H=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,c=/^.+(:|&colon;)/gim,Fe=[".","/"],Ce="about:blank";function Ue(Ee){return Fe.indexOf(Ee[0])>-1}function de(Ee){var ge=Ee.replace(H,"");return ge.replace(re,function(ye,Le){return String.fromCharCode(Le)})}function ue(Ee){if(!Ee)return Ce;var ge=de(Ee).replace(te,"").replace(H,"").trim();if(!ge)return Ce;if(Ue(ge))return ge;var ye=ge.match(c);if(!ye)return ge;var Le=ye[0];return ne.test(Le)?Ce:ge}},(ve,ee,Z)=>{Z.r(ee),Z.d(ee,{AudioAssetWrapper:()=>Ee,AudioWrapper:()=>Fe,CustomFileAssetLoaderWrapper:()=>Ue,FileAssetWrapper:()=>de,FileFinalizer:()=>re,FontAssetWrapper:()=>ge,FontWrapper:()=>Ce,ImageAssetWrapper:()=>ue,ImageWrapper:()=>c,createFinalization:()=>je,finalizationRegistry:()=>xe});var ne=function(){var j=function(x,d){return j=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,A){_.__proto__=A}||function(_,A){for(var g in A)Object.prototype.hasOwnProperty.call(A,g)&&(_[g]=A[g])},j(x,d)};return function(x,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");j(x,d);function _(){this.constructor=x}x.prototype=d===null?Object.create(d):(_.prototype=d.prototype,new _)}}(),re=function(){function j(x){this.selfUnref=!1,this._file=x}return j.prototype.unref=function(){this._file&&this._file.unref()},j}(),te=function(){function j(x){this._finalizableObject=x}return j.prototype.unref=function(){this._finalizableObject.unref()},j}(),H=function(){function j(){this.selfUnref=!1}return j.prototype.unref=function(){},j}(),c=function(j){ne(x,j);function x(d){var _=j.call(this)||this;return _._nativeImage=d,_}return Object.defineProperty(x.prototype,"nativeImage",{get:function(){return this._nativeImage},enumerable:!1,configurable:!0}),x.prototype.unref=function(){this.selfUnref&&this._nativeImage.unref()},x}(H),Fe=function(j){ne(x,j);function x(d){var _=j.call(this)||this;return _._nativeAudio=d,_}return Object.defineProperty(x.prototype,"nativeAudio",{get:function(){return this._nativeAudio},enumerable:!1,configurable:!0}),x.prototype.unref=function(){this.selfUnref&&this._nativeAudio.unref()},x}(H),Ce=function(j){ne(x,j);function x(d){var _=j.call(this)||this;return _._nativeFont=d,_}return Object.defineProperty(x.prototype,"nativeFont",{get:function(){return this._nativeFont},enumerable:!1,configurable:!0}),x.prototype.unref=function(){this.selfUnref&&this._nativeFont.unref()},x}(H),Ue=function(){function j(x,d){this._assetLoaderCallback=d,this.assetLoader=new x.CustomFileAssetLoader({loadContents:this.loadContents.bind(this)})}return j.prototype.loadContents=function(x,d){var _;return x.isImage?_=new ue(x):x.isAudio?_=new Ee(x):x.isFont&&(_=new ge(x)),this._assetLoaderCallback(_,d)},j}(),de=function(){function j(x){this._nativeFileAsset=x}return j.prototype.decode=function(x){this._nativeFileAsset.decode(x)},Object.defineProperty(j.prototype,"name",{get:function(){return this._nativeFileAsset.name},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"fileExtension",{get:function(){return this._nativeFileAsset.fileExtension},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"uniqueFilename",{get:function(){return this._nativeFileAsset.uniqueFilename},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"isAudio",{get:function(){return this._nativeFileAsset.isAudio},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"isImage",{get:function(){return this._nativeFileAsset.isImage},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"isFont",{get:function(){return this._nativeFileAsset.isFont},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"cdnUuid",{get:function(){return this._nativeFileAsset.cdnUuid},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"nativeFileAsset",{get:function(){return this._nativeFileAsset},enumerable:!1,configurable:!0}),j}(),ue=function(j){ne(x,j);function x(){return j!==null&&j.apply(this,arguments)||this}return x.prototype.setRenderImage=function(d){this._nativeFileAsset.setRenderImage(d.nativeImage)},x}(de),Ee=function(j){ne(x,j);function x(){return j!==null&&j.apply(this,arguments)||this}return x.prototype.setAudioSource=function(d){this._nativeFileAsset.setAudioSource(d.nativeAudio)},x}(de),ge=function(j){ne(x,j);function x(){return j!==null&&j.apply(this,arguments)||this}return x.prototype.setFont=function(d){this._nativeFileAsset.setFont(d.nativeFont)},x}(de),ye=function(){function j(x){}return j.prototype.register=function(x){x.selfUnref=!0},j.prototype.unregister=function(x){},j}(),Le=typeof FinalizationRegistry<"u"?FinalizationRegistry:ye,xe=new Le(function(j){j==null||j.unref()}),je=function(j,x){var d=new te(x);xe.register(j,d)}}],Ft={};function ke(ve){var ee=Ft[ve];if(ee!==void 0)return ee.exports;var Z=Ft[ve]={exports:{}};return Ne[ve](Z,Z.exports,ke),Z.exports}ke.d=(ve,ee)=>{for(var Z in ee)ke.o(ee,Z)&&!ke.o(ve,Z)&&Object.defineProperty(ve,Z,{enumerable:!0,get:ee[Z]})},ke.o=(ve,ee)=>Object.prototype.hasOwnProperty.call(ve,ee),ke.r=ve=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(ve,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(ve,"__esModule",{value:!0})};var ze={};return(()=>{ke.r(ze),ke.d(ze,{Alignment:()=>ue,DataEnum:()=>se,EventType:()=>d,Fit:()=>de,Layout:()=>Ee,LoopType:()=>_,Rive:()=>ae,RiveEventType:()=>xe,RiveFile:()=>U,RuntimeLoader:()=>ge,StateMachineInput:()=>Le,StateMachineInputType:()=>ye,Testing:()=>Ct,ViewModel:()=>ce,ViewModelInstance:()=>we,ViewModelInstanceArtboard:()=>gt,ViewModelInstanceAssetImage:()=>at,ViewModelInstanceBoolean:()=>he,ViewModelInstanceColor:()=>fe,ViewModelInstanceEnum:()=>oe,ViewModelInstanceList:()=>Oe,ViewModelInstanceNumber:()=>Me,ViewModelInstanceString:()=>Ve,ViewModelInstanceTrigger:()=>z,ViewModelInstanceValue:()=>le,decodeAudio:()=>nt,decodeFont:()=>Mt,decodeImage:()=>yt});var ve=ke(1),ee=ke(2),Z=ke(3),ne=ke(5),re=function(){var s=function(r,o){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,h){l.__proto__=h}||function(l,h){for(var b in h)Object.prototype.hasOwnProperty.call(h,b)&&(l[b]=h[b])},s(r,o)};return function(r,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");s(r,o);function l(){this.constructor=r}r.prototype=o===null?Object.create(o):(l.prototype=o.prototype,new l)}}(),te=function(){return te=Object.assign||function(s){for(var r,o=1,l=arguments.length;o<l;o++){r=arguments[o];for(var h in r)Object.prototype.hasOwnProperty.call(r,h)&&(s[h]=r[h])}return s},te.apply(this,arguments)},H=function(s,r,o,l){function h(b){return b instanceof o?b:new o(function(E){E(b)})}return new(o||(o=Promise))(function(b,E){function $(J){try{V(l.next(J))}catch(pe){E(pe)}}function q(J){try{V(l.throw(J))}catch(pe){E(pe)}}function V(J){J.done?b(J.value):h(J.value).then($,q)}V((l=l.apply(s,r||[])).next())})},c=function(s,r){var o={label:0,sent:function(){if(b[0]&1)throw b[1];return b[1]},trys:[],ops:[]},l,h,b,E=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return E.next=$(0),E.throw=$(1),E.return=$(2),typeof Symbol=="function"&&(E[Symbol.iterator]=function(){return this}),E;function $(V){return function(J){return q([V,J])}}function q(V){if(l)throw new TypeError("Generator is already executing.");for(;E&&(E=0,V[0]&&(o=0)),o;)try{if(l=1,h&&(b=V[0]&2?h.return:V[0]?h.throw||((b=h.return)&&b.call(h),0):h.next)&&!(b=b.call(h,V[1])).done)return b;switch(h=0,b&&(V=[V[0]&2,b.value]),V[0]){case 0:case 1:b=V;break;case 4:return o.label++,{value:V[1],done:!1};case 5:o.label++,h=V[1],V=[0];continue;case 7:V=o.ops.pop(),o.trys.pop();continue;default:if(b=o.trys,!(b=b.length>0&&b[b.length-1])&&(V[0]===6||V[0]===2)){o=0;continue}if(V[0]===3&&(!b||V[1]>b[0]&&V[1]<b[3])){o.label=V[1];break}if(V[0]===6&&o.label<b[1]){o.label=b[1],b=V;break}if(b&&o.label<b[2]){o.label=b[2],o.ops.push(V);break}b[2]&&o.ops.pop(),o.trys.pop();continue}V=r.call(s,o)}catch(J){V=[6,J],h=0}finally{l=b=0}if(V[0]&5)throw V[1];return{value:V[0]?V[1]:void 0,done:!0}}},Fe=function(s,r,o){if(o||arguments.length===2)for(var l=0,h=r.length,b;l<h;l++)(b||!(l in r))&&(b||(b=Array.prototype.slice.call(r,0,l)),b[l]=r[l]);return s.concat(b||Array.prototype.slice.call(r))},Ce=function(s){re(r,s);function r(){var o=s!==null&&s.apply(this,arguments)||this;return o.isHandledError=!0,o}return r}(Error),Ue=function(s){return s&&s.isHandledError?s.message:"Problem loading file; may be corrupt!"},de;(function(s){s.Cover="cover",s.Contain="contain",s.Fill="fill",s.FitWidth="fitWidth",s.FitHeight="fitHeight",s.None="none",s.ScaleDown="scaleDown",s.Layout="layout"})(de||(de={}));var ue;(function(s){s.Center="center",s.TopLeft="topLeft",s.TopCenter="topCenter",s.TopRight="topRight",s.CenterLeft="centerLeft",s.CenterRight="centerRight",s.BottomLeft="bottomLeft",s.BottomCenter="bottomCenter",s.BottomRight="bottomRight"})(ue||(ue={}));var Ee=function(){function s(r){var o,l,h,b,E,$,q;this.fit=(o=r==null?void 0:r.fit)!==null&&o!==void 0?o:de.Contain,this.alignment=(l=r==null?void 0:r.alignment)!==null&&l!==void 0?l:ue.Center,this.layoutScaleFactor=(h=r==null?void 0:r.layoutScaleFactor)!==null&&h!==void 0?h:1,this.minX=(b=r==null?void 0:r.minX)!==null&&b!==void 0?b:0,this.minY=(E=r==null?void 0:r.minY)!==null&&E!==void 0?E:0,this.maxX=($=r==null?void 0:r.maxX)!==null&&$!==void 0?$:0,this.maxY=(q=r==null?void 0:r.maxY)!==null&&q!==void 0?q:0}return s.new=function(r){var o=r.fit,l=r.alignment,h=r.minX,b=r.minY,E=r.maxX,$=r.maxY;return console.warn("This function is deprecated: please use `new Layout({})` instead"),new s({fit:o,alignment:l,minX:h,minY:b,maxX:E,maxY:$})},s.prototype.copyWith=function(r){var o=r.fit,l=r.alignment,h=r.layoutScaleFactor,b=r.minX,E=r.minY,$=r.maxX,q=r.maxY;return new s({fit:o??this.fit,alignment:l??this.alignment,layoutScaleFactor:h??this.layoutScaleFactor,minX:b??this.minX,minY:E??this.minY,maxX:$??this.maxX,maxY:q??this.maxY})},s.prototype.runtimeFit=function(r){if(this.cachedRuntimeFit)return this.cachedRuntimeFit;var o;return this.fit===de.Cover?o=r.Fit.cover:this.fit===de.Contain?o=r.Fit.contain:this.fit===de.Fill?o=r.Fit.fill:this.fit===de.FitWidth?o=r.Fit.fitWidth:this.fit===de.FitHeight?o=r.Fit.fitHeight:this.fit===de.ScaleDown?o=r.Fit.scaleDown:this.fit===de.Layout?o=r.Fit.layout:o=r.Fit.none,this.cachedRuntimeFit=o,o},s.prototype.runtimeAlignment=function(r){if(this.cachedRuntimeAlignment)return this.cachedRuntimeAlignment;var o;return this.alignment===ue.TopLeft?o=r.Alignment.topLeft:this.alignment===ue.TopCenter?o=r.Alignment.topCenter:this.alignment===ue.TopRight?o=r.Alignment.topRight:this.alignment===ue.CenterLeft?o=r.Alignment.centerLeft:this.alignment===ue.CenterRight?o=r.Alignment.centerRight:this.alignment===ue.BottomLeft?o=r.Alignment.bottomLeft:this.alignment===ue.BottomCenter?o=r.Alignment.bottomCenter:this.alignment===ue.BottomRight?o=r.Alignment.bottomRight:o=r.Alignment.center,this.cachedRuntimeAlignment=o,o},s}(),ge=function(){function s(){}return s.loadRuntime=function(){ve.default({locateFile:function(){return s.wasmURL}}).then(function(r){var o;for(s.runtime=r;s.callBackQueue.length>0;)(o=s.callBackQueue.shift())===null||o===void 0||o(s.runtime)}).catch(function(r){var o={message:(r==null?void 0:r.message)||"Unknown error",type:(r==null?void 0:r.name)||"Error",wasmError:r instanceof WebAssembly.CompileError||r instanceof WebAssembly.RuntimeError,originalError:r};console.debug("Rive WASM load error details:",o);var l="https://cdn.jsdelivr.net/npm/".concat(ee.name,"@").concat(ee.version,"/rive_fallback.wasm");if(s.wasmURL.toLowerCase()!==l)console.warn("Failed to load WASM from ".concat(s.wasmURL," (").concat(o.message,"), trying jsdelivr as a backup")),s.setWasmUrl(l),s.loadRuntime();else{var h=["Could not load Rive WASM file from ".concat(s.wasmURL," or ").concat(l,"."),"Possible reasons:","- Network connection is down","- WebAssembly is not supported in this environment","- The WASM file is corrupted or incompatible",`
Error details:`,"- Type: ".concat(o.type),"- Message: ".concat(o.message),"- WebAssembly-specific error: ".concat(o.wasmError),`
To resolve, you may need to:`,"1. Check your network connection","2. Set a new WASM source via RuntimeLoader.setWasmUrl()","3. Call RuntimeLoader.loadRuntime() again"].join(`
`);console.error(h)}})},s.getInstance=function(r){s.isLoading||(s.isLoading=!0,s.loadRuntime()),s.runtime?r(s.runtime):s.callBackQueue.push(r)},s.awaitInstance=function(){return new Promise(function(r){return s.getInstance(function(o){return r(o)})})},s.setWasmUrl=function(r){s.wasmURL=r},s.getWasmUrl=function(){return s.wasmURL},s.isLoading=!1,s.callBackQueue=[],s.wasmURL="https://unpkg.com/".concat(ee.name,"@").concat(ee.version,"/rive.wasm"),s}(),ye;(function(s){s[s.Number=56]="Number",s[s.Trigger=58]="Trigger",s[s.Boolean=59]="Boolean"})(ye||(ye={}));var Le=function(){function s(r,o){this.type=r,this.runtimeInput=o}return Object.defineProperty(s.prototype,"name",{get:function(){return this.runtimeInput.name},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"value",{get:function(){return this.runtimeInput.value},set:function(r){this.runtimeInput.value=r},enumerable:!1,configurable:!0}),s.prototype.fire=function(){this.type===ye.Trigger&&this.runtimeInput.fire()},s.prototype.delete=function(){this.runtimeInput=null},s}(),xe;(function(s){s[s.General=128]="General",s[s.OpenUrl=131]="OpenUrl"})(xe||(xe={}));var je=function(){function s(r){this.nativeArtboard=r}return s}(),j=function(){function s(r,o,l,h){this.stateMachine=r,this.playing=l,this.artboard=h,this.inputs=[],this.instance=new o.StateMachineInstance(r,h),this.initInputs(o)}return Object.defineProperty(s.prototype,"name",{get:function(){return this.stateMachine.name},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"statesChanged",{get:function(){for(var r=[],o=0;o<this.instance.stateChangedCount();o++)r.push(this.instance.stateChangedNameByIndex(o));return r},enumerable:!1,configurable:!0}),s.prototype.advance=function(r){this.instance.advance(r)},s.prototype.advanceAndApply=function(r){this.instance.advanceAndApply(r)},s.prototype.reportedEventCount=function(){return this.instance.reportedEventCount()},s.prototype.reportedEventAt=function(r){return this.instance.reportedEventAt(r)},s.prototype.initInputs=function(r){for(var o=0;o<this.instance.inputCount();o++){var l=this.instance.input(o);this.inputs.push(this.mapRuntimeInput(l,r))}},s.prototype.mapRuntimeInput=function(r,o){if(r.type===o.SMIInput.bool)return new Le(ye.Boolean,r.asBool());if(r.type===o.SMIInput.number)return new Le(ye.Number,r.asNumber());if(r.type===o.SMIInput.trigger)return new Le(ye.Trigger,r.asTrigger())},s.prototype.cleanup=function(){this.inputs.forEach(function(r){r.delete()}),this.inputs.length=0,this.instance.delete()},s.prototype.bindViewModelInstance=function(r){r.runtimeInstance!=null&&this.instance.bindViewModelInstance(r.runtimeInstance)},s}(),x=function(){function s(r,o,l,h,b){h===void 0&&(h=[]),b===void 0&&(b=[]),this.runtime=r,this.artboard=o,this.eventManager=l,this.animations=h,this.stateMachines=b}return s.prototype.add=function(r,o,l){if(l===void 0&&(l=!0),r=Se(r),r.length===0)this.animations.forEach(function(be){return be.playing=o}),this.stateMachines.forEach(function(be){return be.playing=o});else for(var h=this.animations.map(function(be){return be.name}),b=this.stateMachines.map(function(be){return be.name}),E=0;E<r.length;E++){var $=h.indexOf(r[E]),q=b.indexOf(r[E]);if($>=0||q>=0)$>=0?this.animations[$].playing=o:this.stateMachines[q].playing=o;else{var V=this.artboard.animationByName(r[E]);if(V){var J=new Z.Animation(V,this.artboard,this.runtime,o);J.advance(0),J.apply(1),this.animations.push(J)}else{var pe=this.artboard.stateMachineByName(r[E]);if(pe){var We=new j(pe,this.runtime,o,this.artboard);this.stateMachines.push(We)}}}}return l&&(o?this.eventManager.fire({type:d.Play,data:this.playing}):this.eventManager.fire({type:d.Pause,data:this.paused})),o?this.playing:this.paused},s.prototype.initLinearAnimations=function(r,o){for(var l=this.animations.map(function(q){return q.name}),h=0;h<r.length;h++){var b=l.indexOf(r[h]);if(b>=0)this.animations[b].playing=o;else{var E=this.artboard.animationByName(r[h]);if(E){var $=new Z.Animation(E,this.artboard,this.runtime,o);$.advance(0),$.apply(1),this.animations.push($)}else console.error("Animation with name ".concat(r[h]," not found."))}}},s.prototype.initStateMachines=function(r,o){for(var l=this.stateMachines.map(function(q){return q.name}),h=0;h<r.length;h++){var b=l.indexOf(r[h]);if(b>=0)this.stateMachines[b].playing=o;else{var E=this.artboard.stateMachineByName(r[h]);if(E){var $=new j(E,this.runtime,o,this.artboard);this.stateMachines.push($)}else console.warn("State Machine with name ".concat(r[h]," not found.")),this.initLinearAnimations([r[h]],o)}}},s.prototype.play=function(r){return this.add(r,!0)},s.prototype.advanceIfPaused=function(){this.stateMachines.forEach(function(r){r.playing||r.advanceAndApply(0)})},s.prototype.pause=function(r){return this.add(r,!1)},s.prototype.scrub=function(r,o){var l=this.animations.filter(function(h){return r.includes(h.name)});return l.forEach(function(h){return h.scrubTo=o}),l.map(function(h){return h.name})},Object.defineProperty(s.prototype,"playing",{get:function(){return this.animations.filter(function(r){return r.playing}).map(function(r){return r.name}).concat(this.stateMachines.filter(function(r){return r.playing}).map(function(r){return r.name}))},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"paused",{get:function(){return this.animations.filter(function(r){return!r.playing}).map(function(r){return r.name}).concat(this.stateMachines.filter(function(r){return!r.playing}).map(function(r){return r.name}))},enumerable:!1,configurable:!0}),s.prototype.stop=function(r){var o=this;r=Se(r);var l=[];if(r.length===0)l=this.animations.map(function(E){return E.name}).concat(this.stateMachines.map(function(E){return E.name})),this.animations.forEach(function(E){return E.cleanup()}),this.stateMachines.forEach(function(E){return E.cleanup()}),this.animations.splice(0,this.animations.length),this.stateMachines.splice(0,this.stateMachines.length);else{var h=this.animations.filter(function(E){return r.includes(E.name)});h.forEach(function(E){E.cleanup(),o.animations.splice(o.animations.indexOf(E),1)});var b=this.stateMachines.filter(function(E){return r.includes(E.name)});b.forEach(function(E){E.cleanup(),o.stateMachines.splice(o.stateMachines.indexOf(E),1)}),l=h.map(function(E){return E.name}).concat(b.map(function(E){return E.name}))}return this.eventManager.fire({type:d.Stop,data:l}),l},Object.defineProperty(s.prototype,"isPlaying",{get:function(){return this.animations.reduce(function(r,o){return r||o.playing},!1)||this.stateMachines.reduce(function(r,o){return r||o.playing},!1)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isPaused",{get:function(){return!this.isPlaying&&(this.animations.length>0||this.stateMachines.length>0)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isStopped",{get:function(){return this.animations.length===0&&this.stateMachines.length===0},enumerable:!1,configurable:!0}),s.prototype.atLeastOne=function(r,o){o===void 0&&(o=!0);var l;return this.animations.length===0&&this.stateMachines.length===0&&(this.artboard.animationCount()>0?this.add([l=this.artboard.animationByIndex(0).name],r,o):this.artboard.stateMachineCount()>0&&this.add([l=this.artboard.stateMachineByIndex(0).name],r,o)),l},s.prototype.handleLooping=function(){for(var r=0,o=this.animations.filter(function(h){return h.playing});r<o.length;r++){var l=o[r];l.loopValue===0&&l.loopCount?(l.loopCount=0,this.stop(l.name)):l.loopValue===1&&l.loopCount?(this.eventManager.fire({type:d.Loop,data:{animation:l.name,type:_.Loop}}),l.loopCount=0):l.loopValue===2&&l.loopCount>1&&(this.eventManager.fire({type:d.Loop,data:{animation:l.name,type:_.PingPong}}),l.loopCount=0)}},s.prototype.handleStateChanges=function(){for(var r=[],o=0,l=this.stateMachines.filter(function(b){return b.playing});o<l.length;o++){var h=l[o];r.push.apply(r,h.statesChanged)}r.length>0&&this.eventManager.fire({type:d.StateChange,data:r})},s.prototype.handleAdvancing=function(r){this.eventManager.fire({type:d.Advance,data:r})},s}(),d;(function(s){s.Load="load",s.LoadError="loaderror",s.Play="play",s.Pause="pause",s.Stop="stop",s.Loop="loop",s.Draw="draw",s.Advance="advance",s.StateChange="statechange",s.RiveEvent="riveevent",s.AudioStatusChange="audiostatuschange"})(d||(d={}));var _;(function(s){s.OneShot="oneshot",s.Loop="loop",s.PingPong="pingpong"})(_||(_={}));var A=function(){function s(r){r===void 0&&(r=[]),this.listeners=r}return s.prototype.getListeners=function(r){return this.listeners.filter(function(o){return o.type===r})},s.prototype.add=function(r){this.listeners.includes(r)||this.listeners.push(r)},s.prototype.remove=function(r){for(var o=0;o<this.listeners.length;o++){var l=this.listeners[o];if(l.type===r.type&&l.callback===r.callback){this.listeners.splice(o,1);break}}},s.prototype.removeAll=function(r){var o=this;r?this.listeners.filter(function(l){return l.type===r}).forEach(function(l){return o.remove(l)}):this.listeners.splice(0,this.listeners.length)},s.prototype.fire=function(r){var o=this.getListeners(r.type);o.forEach(function(l){return l.callback(r)})},s}(),g=function(){function s(r){this.eventManager=r,this.queue=[]}return s.prototype.add=function(r){this.queue.push(r)},s.prototype.process=function(){for(;this.queue.length>0;){var r=this.queue.shift();r!=null&&r.action&&r.action(),r!=null&&r.event&&this.eventManager.fire(r.event)}},s}(),p;(function(s){s[s.AVAILABLE=0]="AVAILABLE",s[s.UNAVAILABLE=1]="UNAVAILABLE"})(p||(p={}));var k=function(s){re(r,s);function r(){var o=s!==null&&s.apply(this,arguments)||this;return o._started=!1,o._enabled=!1,o._status=p.UNAVAILABLE,o}return r.prototype.delay=function(o){return H(this,void 0,void 0,function(){return c(this,function(l){return[2,new Promise(function(h){return setTimeout(h,o)})]})})},r.prototype.timeout=function(){return H(this,void 0,void 0,function(){return c(this,function(o){return[2,new Promise(function(l,h){return setTimeout(h,50)})]})})},r.prototype.reportToListeners=function(){this.fire({type:d.AudioStatusChange}),this.removeAll()},r.prototype.enableAudio=function(){return H(this,void 0,void 0,function(){return c(this,function(o){return this._enabled||(this._enabled=!0,this._status=p.AVAILABLE,this.reportToListeners()),[2]})})},r.prototype.testAudio=function(){return H(this,void 0,void 0,function(){return c(this,function(o){switch(o.label){case 0:if(!(this._status===p.UNAVAILABLE&&this._audioContext!==null))return[3,4];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,Promise.race([this._audioContext.resume(),this.timeout()])];case 2:return o.sent(),this.enableAudio(),[3,4];case 3:return o.sent(),[3,4];case 4:return[2]}})})},r.prototype._establishAudio=function(){return H(this,void 0,void 0,function(){return c(this,function(o){switch(o.label){case 0:return this._started?[3,5]:(this._started=!0,typeof window>"u"?(this.enableAudio(),[3,5]):[3,1]);case 1:this._audioContext=new AudioContext,this.listenForUserAction(),o.label=2;case 2:return this._status!==p.UNAVAILABLE?[3,5]:[4,this.testAudio()];case 3:return o.sent(),[4,this.delay(1e3)];case 4:return o.sent(),[3,2];case 5:return[2]}})})},r.prototype.listenForUserAction=function(){var o=this,l=function(){return H(o,void 0,void 0,function(){return c(this,function(h){return this.enableAudio(),[2]})})};document.addEventListener("pointerdown",l,{once:!0})},r.prototype.establishAudio=function(){return H(this,void 0,void 0,function(){return c(this,function(o){return this._establishAudio(),[2]})})},Object.defineProperty(r.prototype,"systemVolume",{get:function(){return this._status===p.UNAVAILABLE?(this.testAudio(),0):1},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),r}(A),R=new k,L=function(){function s(){}return s.prototype.observe=function(){},s.prototype.unobserve=function(){},s.prototype.disconnect=function(){},s}(),I=globalThis.ResizeObserver||L,D=function(){function s(){var r=this;this._elementsMap=new Map,this._onObservedEntry=function(o){var l=r._elementsMap.get(o.target);l!==null?l.onResize(o.target.clientWidth==0||o.target.clientHeight==0):r._resizeObserver.unobserve(o.target)},this._onObserved=function(o){o.forEach(r._onObservedEntry)},this._resizeObserver=new I(this._onObserved)}return s.prototype.add=function(r,o){var l={onResize:o,element:r};return this._elementsMap.set(r,l),this._resizeObserver.observe(r),l},s.prototype.remove=function(r){this._resizeObserver.unobserve(r.element),this._elementsMap.delete(r.element)},s}(),C=new D,U=function(){function s(r){this.enableRiveAssetCDN=!0,this.referenceCount=0,this.destroyed=!1,this.selfUnref=!1,this.src=r.src,this.buffer=r.buffer,r.assetLoader&&(this.assetLoader=r.assetLoader),this.enableRiveAssetCDN=typeof r.enableRiveAssetCDN=="boolean"?r.enableRiveAssetCDN:!0,this.eventManager=new A,r.onLoad&&this.on(d.Load,r.onLoad),r.onLoadError&&this.on(d.LoadError,r.onLoadError)}return s.prototype.releaseFile=function(){var r;this.selfUnref&&((r=this.file)===null||r===void 0||r.unref()),this.file=null},s.prototype.initData=function(){return H(this,void 0,void 0,function(){var r,o,l,h,b;return c(this,function(E){switch(E.label){case 0:return this.src?(r=this,[4,Lt(this.src)]):[3,2];case 1:r.buffer=E.sent(),E.label=2;case 2:return this.destroyed?[2]:(this.assetLoader&&(l=new ne.CustomFileAssetLoaderWrapper(this.runtime,this.assetLoader),o=l.assetLoader),h=this,[4,this.runtime.load(new Uint8Array(this.buffer),o,this.enableRiveAssetCDN)]);case 3:return h.file=E.sent(),b=new ne.FileFinalizer(this.file),ne.finalizationRegistry.register(this,b),this.destroyed?(this.releaseFile(),[2]):(this.file!==null?this.eventManager.fire({type:d.Load,data:this}):this.fireLoadError(s.fileLoadErrorMessage),[2])}})})},s.prototype.init=function(){return H(this,void 0,void 0,function(){var r,o;return c(this,function(l){switch(l.label){case 0:if(!this.src&&!this.buffer)return this.fireLoadError(s.missingErrorMessage),[2];l.label=1;case 1:return l.trys.push([1,4,,5]),r=this,[4,ge.awaitInstance()];case 2:return r.runtime=l.sent(),this.destroyed?[2]:[4,this.initData()];case 3:return l.sent(),[3,5];case 4:return o=l.sent(),this.fireLoadError(o instanceof Error?o.message:s.fileLoadErrorMessage),[3,5];case 5:return[2]}})})},s.prototype.fireLoadError=function(r){throw this.eventManager.fire({type:d.LoadError,data:r}),new Error(r)},s.prototype.on=function(r,o){this.eventManager.add({type:r,callback:o})},s.prototype.off=function(r,o){this.eventManager.remove({type:r,callback:o})},s.prototype.cleanup=function(){this.referenceCount-=1,this.referenceCount<=0&&(this.removeAllRiveEventListeners(),this.releaseFile(),this.destroyed=!0)},s.prototype.removeAllRiveEventListeners=function(r){this.eventManager.removeAll(r)},s.prototype.getInstance=function(){if(this.file!==null)return this.referenceCount+=1,this.file},s.prototype.destroyIfUnused=function(){this.referenceCount<=0&&this.cleanup()},s.prototype.getArtboard=function(r){var o=this.file.artboardByName(r);return o!=null?new je(o):null},s.missingErrorMessage="Rive source file or data buffer required",s.fileLoadErrorMessage="The file failed to load",s}(),ae=function(){function s(r){var o=this,l;this.loaded=!1,this.destroyed=!1,this._observed=null,this.readyForPlaying=!1,this.artboard=null,this.eventCleanup=null,this.shouldDisableRiveListeners=!1,this.automaticallyHandleEvents=!1,this.enableRiveAssetCDN=!0,this._volume=1,this._artboardWidth=void 0,this._artboardHeight=void 0,this._devicePixelRatioUsed=1,this._hasZeroSize=!1,this._audioEventListener=null,this._boundDraw=null,this._viewModelInstance=null,this._dataEnums=null,this.durations=[],this.frameTimes=[],this.frameCount=0,this.isTouchScrollEnabled=!1,this.onCanvasResize=function(h){var b=o._hasZeroSize!==h;o._hasZeroSize=h,h?(!o._layout.maxX||!o._layout.maxY)&&o.resizeToCanvas():b&&o.resizeDrawingSurfaceToCanvas()},this.renderSecondTimer=0,this._boundDraw=this.draw.bind(this),this.canvas=r.canvas,r.canvas.constructor===HTMLCanvasElement&&(this._observed=C.add(this.canvas,this.onCanvasResize)),this.src=r.src,this.buffer=r.buffer,this.riveFile=r.riveFile,this.layout=(l=r.layout)!==null&&l!==void 0?l:new Ee,this.shouldDisableRiveListeners=!!r.shouldDisableRiveListeners,this.isTouchScrollEnabled=!!r.isTouchScrollEnabled,this.automaticallyHandleEvents=!!r.automaticallyHandleEvents,this.enableRiveAssetCDN=r.enableRiveAssetCDN===void 0?!0:r.enableRiveAssetCDN,this.eventManager=new A,r.onLoad&&this.on(d.Load,r.onLoad),r.onLoadError&&this.on(d.LoadError,r.onLoadError),r.onPlay&&this.on(d.Play,r.onPlay),r.onPause&&this.on(d.Pause,r.onPause),r.onStop&&this.on(d.Stop,r.onStop),r.onLoop&&this.on(d.Loop,r.onLoop),r.onStateChange&&this.on(d.StateChange,r.onStateChange),r.onAdvance&&this.on(d.Advance,r.onAdvance),r.onload&&!r.onLoad&&this.on(d.Load,r.onload),r.onloaderror&&!r.onLoadError&&this.on(d.LoadError,r.onloaderror),r.onplay&&!r.onPlay&&this.on(d.Play,r.onplay),r.onpause&&!r.onPause&&this.on(d.Pause,r.onpause),r.onstop&&!r.onStop&&this.on(d.Stop,r.onstop),r.onloop&&!r.onLoop&&this.on(d.Loop,r.onloop),r.onstatechange&&!r.onStateChange&&this.on(d.StateChange,r.onstatechange),r.assetLoader&&(this.assetLoader=r.assetLoader),this.taskQueue=new g(this.eventManager),this.init({src:this.src,buffer:this.buffer,riveFile:this.riveFile,autoplay:r.autoplay,autoBind:r.autoBind,animations:r.animations,stateMachines:r.stateMachines,artboard:r.artboard,useOffscreenRenderer:r.useOffscreenRenderer})}return Object.defineProperty(s.prototype,"viewModelCount",{get:function(){return this.file.viewModelCount()},enumerable:!1,configurable:!0}),s.new=function(r){return console.warn("This function is deprecated: please use `new Rive({})` instead"),new s(r)},s.prototype.onSystemAudioChanged=function(){this.volume=this._volume},s.prototype.init=function(r){var o=this,l=r.src,h=r.buffer,b=r.riveFile,E=r.animations,$=r.stateMachines,q=r.artboard,V=r.autoplay,J=V===void 0?!1:V,pe=r.useOffscreenRenderer,We=pe===void 0?!1:pe,be=r.autoBind,Qe=be===void 0?!1:be;if(!this.destroyed){if(this.src=l,this.buffer=h,this.riveFile=b,!this.src&&!this.buffer&&!this.riveFile)throw new Ce(s.missingErrorMessage);var Ye=Se(E),$e=Se($);this.loaded=!1,this.readyForPlaying=!1,ge.awaitInstance().then(function(He){o.destroyed||(o.runtime=He,o.removeRiveListeners(),o.deleteRiveRenderer(),o.renderer=o.runtime.makeRenderer(o.canvas,We),o.canvas.width||o.canvas.height||o.resizeDrawingSurfaceToCanvas(),o.initData(q,Ye,$e,J,Qe).then(function(Xe){if(Xe)return o.setupRiveListeners()}).catch(function(Xe){console.error(Xe)}))}).catch(function(He){console.error(He)})}},s.prototype.setupRiveListeners=function(r){var o=this;if(this.eventCleanup&&this.eventCleanup(),!this.shouldDisableRiveListeners){var l=(this.animator.stateMachines||[]).filter(function(b){return b.playing&&o.runtime.hasListeners(b.instance)}).map(function(b){return b.instance}),h=this.isTouchScrollEnabled;r&&"isTouchScrollEnabled"in r&&(h=r.isTouchScrollEnabled),this.eventCleanup=(0,ne.registerTouchInteractions)({canvas:this.canvas,artboard:this.artboard,stateMachines:l,renderer:this.renderer,rive:this.runtime,fit:this._layout.runtimeFit(this.runtime),alignment:this._layout.runtimeAlignment(this.runtime),isTouchScrollEnabled:h,layoutScaleFactor:this._layout.layoutScaleFactor})}},s.prototype.removeRiveListeners=function(){this.eventCleanup&&(this.eventCleanup(),this.eventCleanup=null)},s.prototype.initializeAudio=function(){var r=this,o;R.status==p.UNAVAILABLE&&!((o=this.artboard)===null||o===void 0)&&o.hasAudio&&this._audioEventListener===null&&(this._audioEventListener={type:d.AudioStatusChange,callback:function(){return r.onSystemAudioChanged()}},R.add(this._audioEventListener),R.establishAudio())},s.prototype.initArtboardSize=function(){this.artboard&&(this._artboardWidth=this.artboard.width=this._artboardWidth||this.artboard.width,this._artboardHeight=this.artboard.height=this._artboardHeight||this.artboard.height)},s.prototype.initData=function(r,o,l,h,b){return H(this,void 0,void 0,function(){var E,$,q,V;return c(this,function(J){switch(J.label){case 0:return J.trys.push([0,3,,4]),this.riveFile!=null?[3,2]:(E=new U({src:this.src,buffer:this.buffer,enableRiveAssetCDN:this.enableRiveAssetCDN,assetLoader:this.assetLoader}),this.riveFile=E,[4,E.init()]);case 1:if(J.sent(),this.destroyed)return E.destroyIfUnused(),[2,!1];J.label=2;case 2:return this.file=this.riveFile.getInstance(),this.initArtboard(r,o,l,h,b),this.initArtboardSize(),this.initializeAudio(),this.loaded=!0,this.eventManager.fire({type:d.Load,data:(V=this.src)!==null&&V!==void 0?V:"buffer"}),this.animator.advanceIfPaused(),this.readyForPlaying=!0,this.taskQueue.process(),this.drawFrame(),[2,!0];case 3:return $=J.sent(),q=Ue($),console.warn(q),this.eventManager.fire({type:d.LoadError,data:q}),[2,Promise.reject(q)];case 4:return[2]}})})},s.prototype.initArtboard=function(r,o,l,h,b){if(this.file){var E=r?this.file.artboardByName(r):this.file.defaultArtboard();if(!E){var $="Invalid artboard name or no default artboard";console.warn($),this.eventManager.fire({type:d.LoadError,data:$});return}this.artboard=E,E.volume=this._volume*R.systemVolume,this.animator=new x(this.runtime,this.artboard,this.eventManager);var q;if(o.length>0||l.length>0?(q=o.concat(l),this.animator.initLinearAnimations(o,h),this.animator.initStateMachines(l,h)):q=[this.animator.atLeastOne(h,!1)],this.taskQueue.add({event:{type:h?d.Play:d.Pause,data:q}}),b){var V=this.file.defaultArtboardViewModel(E);if(V!==null){var J=V.defaultInstance();if(J!==null){var pe=new we(J,null);this.bindViewModelInstance(pe)}}}}},s.prototype.drawFrame=function(){var r,o;!((r=document==null?void 0:document.timeline)===null||r===void 0)&&r.currentTime?this.loaded&&this.artboard&&!this.frameRequestId&&(this._boundDraw(document.timeline.currentTime),(o=this.runtime)===null||o===void 0||o.resolveAnimationFrame()):this.startRendering()},s.prototype.draw=function(r,o){var l;this.frameRequestId=null;var h=performance.now();this.lastRenderTime||(this.lastRenderTime=r),this.renderSecondTimer+=r-this.lastRenderTime,this.renderSecondTimer>5e3&&(this.renderSecondTimer=0,o==null||o());var b=(r-this.lastRenderTime)/1e3;this.lastRenderTime=r;for(var E=this.animator.animations.filter(function(Je){return Je.playing||Je.needsScrub}).sort(function(Je){return Je.needsScrub?-1:1}),$=0,q=E;$<q.length;$++){var V=q[$];V.advance(b),V.instance.didLoop&&(V.loopCount+=1),V.apply(1)}for(var J=this.animator.stateMachines.filter(function(Je){return Je.playing}),pe=0,We=J;pe<We.length;pe++){var be=We[pe],Qe=be.reportedEventCount();if(Qe)for(var Ye=0;Ye<Qe;Ye++){var $e=be.reportedEventAt(Ye);if($e)if($e.type===xe.OpenUrl){if(this.eventManager.fire({type:d.RiveEvent,data:$e}),this.automaticallyHandleEvents){var He=document.createElement("a"),Xe=$e,st=Xe.url,X=Xe.target,ut=(0,ne.sanitizeUrl)(st);st&&He.setAttribute("href",ut),X&&He.setAttribute("target",X),ut&&ut!==ne.BLANK_URL&&He.click()}}else this.eventManager.fire({type:d.RiveEvent,data:$e})}be.advanceAndApply(b)}this.animator.stateMachines.length==0&&this.artboard.advance(b);var qe=this.renderer;qe.clear(),qe.save(),this.alignRenderer(),this._hasZeroSize||this.artboard.draw(qe),qe.restore(),qe.flush(),this.animator.handleLooping(),this.animator.handleStateChanges(),this.animator.handleAdvancing(b),this.frameCount++;var ie=performance.now();for(this.frameTimes.push(ie),this.durations.push(ie-h);this.frameTimes[0]<=ie-1e3;)this.frameTimes.shift(),this.durations.shift();(l=this._viewModelInstance)===null||l===void 0||l.handleCallbacks(),this.animator.isPlaying?this.startRendering():this.animator.isPaused?this.lastRenderTime=0:this.animator.isStopped&&(this.lastRenderTime=0)},s.prototype.alignRenderer=function(){var r=this,o=r.renderer,l=r.runtime,h=r._layout,b=r.artboard;o.align(h.runtimeFit(l),h.runtimeAlignment(l),{minX:h.minX,minY:h.minY,maxX:h.maxX,maxY:h.maxY},b.bounds,this._devicePixelRatioUsed*h.layoutScaleFactor)},Object.defineProperty(s.prototype,"fps",{get:function(){return this.durations.length},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"frameTime",{get:function(){return this.durations.length===0?0:(this.durations.reduce(function(r,o){return r+o},0)/this.durations.length).toFixed(4)},enumerable:!1,configurable:!0}),s.prototype.cleanup=function(){var r,o;this.destroyed=!0,this.stopRendering(),this.cleanupInstances(),this._observed!==null&&C.remove(this._observed),this.removeRiveListeners(),this.file&&((r=this.riveFile)===null||r===void 0||r.cleanup(),this.file=null),this.riveFile=null,this.deleteRiveRenderer(),this._audioEventListener!==null&&(R.remove(this._audioEventListener),this._audioEventListener=null),(o=this._viewModelInstance)===null||o===void 0||o.cleanup(),this._viewModelInstance=null,this._dataEnums=null},s.prototype.deleteRiveRenderer=function(){var r;(r=this.renderer)===null||r===void 0||r.delete(),this.renderer=null},s.prototype.cleanupInstances=function(){this.eventCleanup!==null&&this.eventCleanup(),this.stop(),this.artboard&&(this.artboard.delete(),this.artboard=null)},s.prototype.retrieveTextRun=function(r){var o;if(!r){console.warn("No text run name provided");return}if(!this.artboard){console.warn("Tried to access text run, but the Artboard is null");return}var l=this.artboard.textRun(r);if(!l){console.warn("Could not access a text run with name '".concat(r,"' in the '").concat((o=this.artboard)===null||o===void 0?void 0:o.name,"' Artboard. Note that you must rename a text run node in the Rive editor to make it queryable at runtime."));return}return l},s.prototype.getTextRunValue=function(r){var o=this.retrieveTextRun(r);return o?o.text:void 0},s.prototype.setTextRunValue=function(r,o){var l=this.retrieveTextRun(r);l&&(l.text=o)},s.prototype.play=function(r,o){var l=this;if(r=Se(r),!this.readyForPlaying){this.taskQueue.add({action:function(){return l.play(r,o)}});return}this.animator.play(r),this.eventCleanup&&this.eventCleanup(),this.setupRiveListeners(),this.startRendering()},s.prototype.pause=function(r){var o=this;if(r=Se(r),!this.readyForPlaying){this.taskQueue.add({action:function(){return o.pause(r)}});return}this.eventCleanup&&this.eventCleanup(),this.animator.pause(r)},s.prototype.scrub=function(r,o){var l=this;if(r=Se(r),!this.readyForPlaying){this.taskQueue.add({action:function(){return l.scrub(r,o)}});return}this.animator.scrub(r,o||0),this.drawFrame()},s.prototype.stop=function(r){var o=this;if(r=Se(r),!this.readyForPlaying){this.taskQueue.add({action:function(){return o.stop(r)}});return}this.animator&&this.animator.stop(r),this.eventCleanup&&this.eventCleanup()},s.prototype.reset=function(r){var o,l,h=r==null?void 0:r.artboard,b=Se(r==null?void 0:r.animations),E=Se(r==null?void 0:r.stateMachines),$=(o=r==null?void 0:r.autoplay)!==null&&o!==void 0?o:!1,q=(l=r==null?void 0:r.autoBind)!==null&&l!==void 0?l:!1;this.cleanupInstances(),this.initArtboard(h,b,E,$,q),this.taskQueue.process()},s.prototype.load=function(r){this.file=null,this.stop(),this.init(r)},Object.defineProperty(s.prototype,"layout",{get:function(){return this._layout},set:function(r){this._layout=r,(!r.maxX||!r.maxY)&&this.resizeToCanvas(),this.loaded&&!this.animator.isPlaying&&this.drawFrame()},enumerable:!1,configurable:!0}),s.prototype.resizeToCanvas=function(){this._layout=this.layout.copyWith({minX:0,minY:0,maxX:this.canvas.width,maxY:this.canvas.height})},s.prototype.resizeDrawingSurfaceToCanvas=function(r){if(this.canvas instanceof HTMLCanvasElement&&window){var o=this.canvas.getBoundingClientRect(),l=o.width,h=o.height,b=r||window.devicePixelRatio||1;if(this.devicePixelRatioUsed=b,this.canvas.width=b*l,this.canvas.height=b*h,this.resizeToCanvas(),this.drawFrame(),this.layout.fit===de.Layout){var E=this._layout.layoutScaleFactor;this.artboard.width=l/E,this.artboard.height=h/E}}},Object.defineProperty(s.prototype,"source",{get:function(){return this.src},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"activeArtboard",{get:function(){return this.artboard?this.artboard.name:""},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"animationNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var r=[],o=0;o<this.artboard.animationCount();o++)r.push(this.artboard.animationByIndex(o).name);return r},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"stateMachineNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var r=[],o=0;o<this.artboard.stateMachineCount();o++)r.push(this.artboard.stateMachineByIndex(o).name);return r},enumerable:!1,configurable:!0}),s.prototype.stateMachineInputs=function(r){if(this.loaded){var o=this.animator.stateMachines.find(function(l){return l.name===r});return o==null?void 0:o.inputs}},s.prototype.retrieveInputAtPath=function(r,o){if(!r){console.warn("No input name provided for path '".concat(o,"'"));return}if(!this.artboard){console.warn("Tried to access input: '".concat(r,"', at path: '").concat(o,"', but the Artboard is null"));return}var l=this.artboard.inputByPath(r,o);if(!l){console.warn("Could not access an input with name: '".concat(r,"', at path:'").concat(o,"'"));return}return l},s.prototype.setBooleanStateAtPath=function(r,o,l){var h=this.retrieveInputAtPath(r,l);h&&(h.type===ye.Boolean?h.asBool().value=o:console.warn("Input with name: '".concat(r,"', at path:'").concat(l,"' is not a boolean")))},s.prototype.setNumberStateAtPath=function(r,o,l){var h=this.retrieveInputAtPath(r,l);h&&(h.type===ye.Number?h.asNumber().value=o:console.warn("Input with name: '".concat(r,"', at path:'").concat(l,"' is not a number")))},s.prototype.fireStateAtPath=function(r,o){var l=this.retrieveInputAtPath(r,o);l&&(l.type===ye.Trigger?l.asTrigger().fire():console.warn("Input with name: '".concat(r,"', at path:'").concat(o,"' is not a trigger")))},s.prototype.retrieveTextAtPath=function(r,o){if(!r){console.warn("No text name provided for path '".concat(o,"'"));return}if(!o){console.warn("No path provided for text '".concat(r,"'"));return}if(!this.artboard){console.warn("Tried to access text: '".concat(r,"', at path: '").concat(o,"', but the Artboard is null"));return}var l=this.artboard.textByPath(r,o);if(!l){console.warn("Could not access text with name: '".concat(r,"', at path:'").concat(o,"'"));return}return l},s.prototype.getTextRunValueAtPath=function(r,o){var l=this.retrieveTextAtPath(r,o);if(!l){console.warn("Could not get text with name: '".concat(r,"', at path:'").concat(o,"'"));return}return l.text},s.prototype.setTextRunValueAtPath=function(r,o,l){var h=this.retrieveTextAtPath(r,l);if(!h){console.warn("Could not set text with name: '".concat(r,"', at path:'").concat(l,"'"));return}h.text=o},Object.defineProperty(s.prototype,"playingStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(r){return r.playing}).map(function(r){return r.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"playingAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(r){return r.playing}).map(function(r){return r.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"pausedAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(r){return!r.playing}).map(function(r){return r.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"pausedStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(r){return!r.playing}).map(function(r){return r.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isPlaying",{get:function(){return this.animator.isPlaying},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isPaused",{get:function(){return this.animator.isPaused},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isStopped",{get:function(){return this.animator.isStopped},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"bounds",{get:function(){return this.artboard?this.artboard.bounds:void 0},enumerable:!1,configurable:!0}),s.prototype.on=function(r,o){this.eventManager.add({type:r,callback:o})},s.prototype.off=function(r,o){this.eventManager.remove({type:r,callback:o})},s.prototype.unsubscribe=function(r,o){console.warn("This function is deprecated: please use `off()` instead."),this.off(r,o)},s.prototype.removeAllRiveEventListeners=function(r){this.eventManager.removeAll(r)},s.prototype.unsubscribeAll=function(r){console.warn("This function is deprecated: please use `removeAllRiveEventListeners()` instead."),this.removeAllRiveEventListeners(r)},s.prototype.stopRendering=function(){this.loaded&&this.frameRequestId&&(this.runtime.cancelAnimationFrame?this.runtime.cancelAnimationFrame(this.frameRequestId):cancelAnimationFrame(this.frameRequestId),this.frameRequestId=null)},s.prototype.startRendering=function(){this.loaded&&this.artboard&&!this.frameRequestId&&(this.runtime.requestAnimationFrame?this.frameRequestId=this.runtime.requestAnimationFrame(this._boundDraw):this.frameRequestId=requestAnimationFrame(this._boundDraw))},s.prototype.enableFPSCounter=function(r){this.runtime.enableFPSCounter(r)},s.prototype.disableFPSCounter=function(){this.runtime.disableFPSCounter()},Object.defineProperty(s.prototype,"contents",{get:function(){if(this.loaded){for(var r={artboards:[]},o=0;o<this.file.artboardCount();o++){for(var l=this.file.artboardByIndex(o),h={name:l.name,animations:[],stateMachines:[]},b=0;b<l.animationCount();b++){var E=l.animationByIndex(b);h.animations.push(E.name)}for(var $=0;$<l.stateMachineCount();$++){for(var q=l.stateMachineByIndex($),V=q.name,J=new this.runtime.StateMachineInstance(q,l),pe=[],We=0;We<J.inputCount();We++){var be=J.input(We);pe.push({name:be.name,type:be.type})}h.stateMachines.push({name:V,inputs:pe})}r.artboards.push(h)}return r}},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"volume",{get:function(){return this.artboard&&this.artboard.volume!==this._volume&&(this._volume=this.artboard.volume),this._volume},set:function(r){this._volume=r,this.artboard&&(this.artboard.volume=r*R.systemVolume)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"artboardWidth",{get:function(){var r;return this.artboard?this.artboard.width:(r=this._artboardWidth)!==null&&r!==void 0?r:0},set:function(r){this._artboardWidth=r,this.artboard&&(this.artboard.width=r)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"artboardHeight",{get:function(){var r;return this.artboard?this.artboard.height:(r=this._artboardHeight)!==null&&r!==void 0?r:0},set:function(r){this._artboardHeight=r,this.artboard&&(this.artboard.height=r)},enumerable:!1,configurable:!0}),s.prototype.resetArtboardSize=function(){this.artboard?(this.artboard.resetArtboardSize(),this._artboardWidth=this.artboard.width,this._artboardHeight=this.artboard.height):(this._artboardWidth=void 0,this._artboardHeight=void 0)},Object.defineProperty(s.prototype,"devicePixelRatioUsed",{get:function(){return this._devicePixelRatioUsed},set:function(r){this._devicePixelRatioUsed=r},enumerable:!1,configurable:!0}),s.prototype.bindViewModelInstance=function(r){var o;this.artboard&&!this.destroyed&&r&&r.runtimeInstance&&(r.internalIncrementReferenceCount(),(o=this._viewModelInstance)===null||o===void 0||o.cleanup(),this._viewModelInstance=r,this.animator.stateMachines.length>0?this.animator.stateMachines.forEach(function(l){return l.bindViewModelInstance(r)}):this.artboard.bindViewModelInstance(r.runtimeInstance))},Object.defineProperty(s.prototype,"viewModelInstance",{get:function(){return this._viewModelInstance},enumerable:!1,configurable:!0}),s.prototype.viewModelByIndex=function(r){var o=this.file.viewModelByIndex(r);return o!==null?new ce(o):null},s.prototype.viewModelByName=function(r){var o=this.file.viewModelByName(r);return o!==null?new ce(o):null},s.prototype.enums=function(){if(this._dataEnums===null){var r=this.file.enums();this._dataEnums=r.map(function(o){return new se(o)})}return this._dataEnums},s.prototype.defaultViewModel=function(){if(this.artboard){var r=this.file.defaultArtboardViewModel(this.artboard);if(r)return new ce(r)}return null},s.prototype.getArtboard=function(r){var o,l;return(l=(o=this.riveFile)===null||o===void 0?void 0:o.getArtboard(r))!==null&&l!==void 0?l:null},s.missingErrorMessage="Rive source file or data buffer required",s.cleanupErrorMessage="Attempt to use file after calling cleanup.",s}(),ce=function(){function s(r){this._viewModel=r}return Object.defineProperty(s.prototype,"instanceCount",{get:function(){return this._viewModel.instanceCount},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"name",{get:function(){return this._viewModel.name},enumerable:!1,configurable:!0}),s.prototype.instanceByIndex=function(r){var o=this._viewModel.instanceByIndex(r);return o!==null?new we(o,null):null},s.prototype.instanceByName=function(r){var o=this._viewModel.instanceByName(r);return o!==null?new we(o,null):null},s.prototype.defaultInstance=function(){var r=this._viewModel.defaultInstance();return r!==null?new we(r,null):null},s.prototype.instance=function(){var r=this._viewModel.instance();return r!==null?new we(r,null):null},Object.defineProperty(s.prototype,"properties",{get:function(){return this._viewModel.getProperties()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"instanceNames",{get:function(){return this._viewModel.getInstanceNames()},enumerable:!1,configurable:!0}),s}(),se=function(){function s(r){this._dataEnum=r}return Object.defineProperty(s.prototype,"name",{get:function(){return this._dataEnum.name},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"values",{get:function(){return this._dataEnum.values},enumerable:!1,configurable:!0}),s}(),Y;(function(s){s.Number="number",s.String="string",s.Boolean="boolean",s.Color="color",s.Trigger="trigger",s.Enum="enum",s.List="list",s.Image="image",s.Artboard="artboard"})(Y||(Y={}));var we=function(){function s(r,o){this._parents=[],this._children=[],this._viewModelInstances=new Map,this._propertiesWithCallbacks=[],this._referenceCount=0,this._runtimeInstance=r,o!==null&&this._parents.push(o)}return Object.defineProperty(s.prototype,"runtimeInstance",{get:function(){return this._runtimeInstance},enumerable:!1,configurable:!0}),s.prototype.handleCallbacks=function(){this._propertiesWithCallbacks.length!==0&&(this._propertiesWithCallbacks.forEach(function(r){r.handleCallbacks()}),this._propertiesWithCallbacks.forEach(function(r){r.clearChanges()})),this._children.forEach(function(r){return r.handleCallbacks()})},s.prototype.addParent=function(r){this._parents.includes(r)||(this._parents.push(r),(this._propertiesWithCallbacks.length>0||this._children.length>0)&&r.addToViewModelCallbacks(this))},s.prototype.removeParent=function(r){var o=this._parents.indexOf(r);if(o!==-1){var l=this._parents[o];l.removeFromViewModelCallbacks(this),this._parents.splice(o,1)}},s.prototype.addToPropertyCallbacks=function(r){var o=this;this._propertiesWithCallbacks.includes(r)||(this._propertiesWithCallbacks.push(r),this._propertiesWithCallbacks.length>0&&this._parents.forEach(function(l){l.addToViewModelCallbacks(o)}))},s.prototype.removeFromPropertyCallbacks=function(r){var o=this;this._propertiesWithCallbacks.includes(r)&&(this._propertiesWithCallbacks=this._propertiesWithCallbacks.filter(function(l){return l!==r}),this._children.length===0&&this._propertiesWithCallbacks.length===0&&this._parents.forEach(function(l){l.removeFromViewModelCallbacks(o)}))},s.prototype.addToViewModelCallbacks=function(r){var o=this;this._children.includes(r)||(this._children.push(r),this._parents.forEach(function(l){l.addToViewModelCallbacks(o)}))},s.prototype.removeFromViewModelCallbacks=function(r){var o=this;this._children.includes(r)&&(this._children=this._children.filter(function(l){return l!==r}),this._children.length===0&&this._propertiesWithCallbacks.length===0&&this._parents.forEach(function(l){l.removeFromViewModelCallbacks(o)}))},s.prototype.clearCallbacks=function(){this._propertiesWithCallbacks.forEach(function(r){r.clearCallbacks()})},s.prototype.propertyFromPath=function(r,o){var l=r.split("/");return this.propertyFromPathSegments(l,0,o)},s.prototype.viewModelFromPathSegments=function(r,o){var l=this.internalViewModelInstance(r[o]);return l!==null?o==r.length-1?l:l.viewModelFromPathSegments(r,o++):null},s.prototype.propertyFromPathSegments=function(r,o,l){var h,b,E,$,q,V,J,pe,We,be,Qe,Ye,$e,He,Xe,st,X,ut;if(o<r.length-1){var qe=this.internalViewModelInstance(r[o]);return qe!==null?qe.propertyFromPathSegments(r,o+1,l):null}var ie=null;switch(l){case Y.Number:if(ie=(b=(h=this._runtimeInstance)===null||h===void 0?void 0:h.number(r[o]))!==null&&b!==void 0?b:null,ie!==null)return new Me(ie,this);break;case Y.String:if(ie=($=(E=this._runtimeInstance)===null||E===void 0?void 0:E.string(r[o]))!==null&&$!==void 0?$:null,ie!==null)return new Ve(ie,this);break;case Y.Boolean:if(ie=(V=(q=this._runtimeInstance)===null||q===void 0?void 0:q.boolean(r[o]))!==null&&V!==void 0?V:null,ie!==null)return new he(ie,this);break;case Y.Color:if(ie=(pe=(J=this._runtimeInstance)===null||J===void 0?void 0:J.color(r[o]))!==null&&pe!==void 0?pe:null,ie!==null)return new fe(ie,this);break;case Y.Trigger:if(ie=(be=(We=this._runtimeInstance)===null||We===void 0?void 0:We.trigger(r[o]))!==null&&be!==void 0?be:null,ie!==null)return new z(ie,this);break;case Y.Enum:if(ie=(Ye=(Qe=this._runtimeInstance)===null||Qe===void 0?void 0:Qe.enum(r[o]))!==null&&Ye!==void 0?Ye:null,ie!==null)return new oe(ie,this);break;case Y.List:if(ie=(He=($e=this._runtimeInstance)===null||$e===void 0?void 0:$e.list(r[o]))!==null&&He!==void 0?He:null,ie!==null)return new Oe(ie,this);break;case Y.Image:if(ie=(st=(Xe=this._runtimeInstance)===null||Xe===void 0?void 0:Xe.image(r[o]))!==null&&st!==void 0?st:null,ie!==null)return new at(ie,this);break;case Y.Artboard:if(ie=(ut=(X=this._runtimeInstance)===null||X===void 0?void 0:X.artboard(r[o]))!==null&&ut!==void 0?ut:null,ie!==null)return new gt(ie,this);break}return null},s.prototype.internalViewModelInstance=function(r){var o;if(this._viewModelInstances.has(r))return this._viewModelInstances.get(r);var l=(o=this._runtimeInstance)===null||o===void 0?void 0:o.viewModel(r);if(l!==null){var h=new s(l,this);return h.internalIncrementReferenceCount(),this._viewModelInstances.set(r,h),h}return null},s.prototype.number=function(r){var o=this.propertyFromPath(r,Y.Number);return o},s.prototype.string=function(r){var o=this.propertyFromPath(r,Y.String);return o},s.prototype.boolean=function(r){var o=this.propertyFromPath(r,Y.Boolean);return o},s.prototype.color=function(r){var o=this.propertyFromPath(r,Y.Color);return o},s.prototype.trigger=function(r){var o=this.propertyFromPath(r,Y.Trigger);return o},s.prototype.enum=function(r){var o=this.propertyFromPath(r,Y.Enum);return o},s.prototype.list=function(r){var o=this.propertyFromPath(r,Y.List);return o},s.prototype.image=function(r){var o=this.propertyFromPath(r,Y.Image);return o},s.prototype.artboard=function(r){var o=this.propertyFromPath(r,Y.Artboard);return o},s.prototype.viewModel=function(r){var o=r.split("/"),l=o.length>1?this.viewModelFromPathSegments(o.slice(0,o.length-1),0):this;return l!=null?l.internalViewModelInstance(o[o.length-1]):null},s.prototype.internalReplaceViewModel=function(r,o){var l;if(o.runtimeInstance!==null){var h=((l=this._runtimeInstance)===null||l===void 0?void 0:l.replaceViewModel(r,o.runtimeInstance))||!1;if(h){o.internalIncrementReferenceCount();var b=this.internalViewModelInstance(r);b!==null&&(b.removeParent(this),this._children.includes(b)&&(this._children=this._children.filter(function(E){return E!==b})),b.cleanup()),this._viewModelInstances.set(r,o),o.addParent(this)}return h}return!1},s.prototype.replaceViewModel=function(r,o){var l,h=r.split("/"),b=h.length>1?this.viewModelFromPathSegments(h.slice(0,h.length-1),0):this;return(l=b==null?void 0:b.internalReplaceViewModel(h[h.length-1],o))!==null&&l!==void 0?l:!1},s.prototype.incrementReferenceCount=function(){var r;this._referenceCount++,(r=this._runtimeInstance)===null||r===void 0||r.incrementReferenceCount()},s.prototype.decrementReferenceCount=function(){var r;this._referenceCount--,(r=this._runtimeInstance)===null||r===void 0||r.decrementReferenceCount()},Object.defineProperty(s.prototype,"properties",{get:function(){var r;return((r=this._runtimeInstance)===null||r===void 0?void 0:r.getProperties().map(function(o){return te({},o)}))||[]},enumerable:!1,configurable:!0}),s.prototype.internalIncrementReferenceCount=function(){this._referenceCount++},s.prototype.cleanup=function(){var r=this;if(this._referenceCount--,this._referenceCount<=0){this._runtimeInstance=null,this.clearCallbacks(),this._propertiesWithCallbacks=[],this._viewModelInstances.forEach(function(h){h.cleanup()}),this._viewModelInstances.clear();var o=Fe([],this._children,!0);this._children.length=0;var l=Fe([],this._parents,!0);this._parents.length=0,o.forEach(function(h){h.removeParent(r)}),l.forEach(function(h){h.removeFromViewModelCallbacks(r)})}},s}(),le=function(){function s(r,o){this.callbacks=[],this._viewModelInstanceValue=r,this._parentViewModel=o}return s.prototype.on=function(r){this.callbacks.length===0&&this._viewModelInstanceValue.clearChanges(),this.callbacks.includes(r)||(this.callbacks.push(r),this._parentViewModel.addToPropertyCallbacks(this))},s.prototype.off=function(r){r?this.callbacks=this.callbacks.filter(function(o){return o!==r}):this.callbacks.length=0,this.callbacks.length===0&&this._parentViewModel.removeFromPropertyCallbacks(this)},s.prototype.internalHandleCallback=function(r){},s.prototype.handleCallbacks=function(){var r=this;this._viewModelInstanceValue.hasChanged&&this.callbacks.forEach(function(o){r.internalHandleCallback(o)})},s.prototype.clearChanges=function(){this._viewModelInstanceValue.clearChanges()},s.prototype.clearCallbacks=function(){this.callbacks.length=0},Object.defineProperty(s.prototype,"name",{get:function(){return this._viewModelInstanceValue.name},enumerable:!1,configurable:!0}),s}(),Ve=function(s){re(r,s);function r(o,l){return s.call(this,o,l)||this}return Object.defineProperty(r.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(o){this._viewModelInstanceValue.value=o},enumerable:!1,configurable:!0}),r.prototype.internalHandleCallback=function(o){o(this.value)},r}(le),Me=function(s){re(r,s);function r(o,l){return s.call(this,o,l)||this}return Object.defineProperty(r.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(o){this._viewModelInstanceValue.value=o},enumerable:!1,configurable:!0}),r.prototype.internalHandleCallback=function(o){o(this.value)},r}(le),he=function(s){re(r,s);function r(o,l){return s.call(this,o,l)||this}return Object.defineProperty(r.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(o){this._viewModelInstanceValue.value=o},enumerable:!1,configurable:!0}),r.prototype.internalHandleCallback=function(o){o(this.value)},r}(le),z=function(s){re(r,s);function r(o,l){return s.call(this,o,l)||this}return r.prototype.trigger=function(){return this._viewModelInstanceValue.trigger()},r.prototype.internalHandleCallback=function(o){o()},r}(le),oe=function(s){re(r,s);function r(o,l){return s.call(this,o,l)||this}return Object.defineProperty(r.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(o){this._viewModelInstanceValue.value=o},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"valueIndex",{get:function(){return this._viewModelInstanceValue.valueIndex},set:function(o){this._viewModelInstanceValue.valueIndex=o},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"values",{get:function(){return this._viewModelInstanceValue.values},enumerable:!1,configurable:!0}),r.prototype.internalHandleCallback=function(o){o(this.value)},r}(le),Oe=function(s){re(r,s);function r(o,l){return s.call(this,o,l)||this}return Object.defineProperty(r.prototype,"length",{get:function(){return this._viewModelInstanceValue.size},enumerable:!1,configurable:!0}),r.prototype.addInstance=function(o){o.runtimeInstance!=null&&(this._viewModelInstanceValue.addInstance(o.runtimeInstance),o.addParent(this._parentViewModel))},r.prototype.addInstanceAt=function(o,l){return o.runtimeInstance!=null&&this._viewModelInstanceValue.addInstanceAt(o.runtimeInstance,l)?(o.addParent(this._parentViewModel),!0):!1},r.prototype.removeInstance=function(o){o.runtimeInstance!=null&&(this._viewModelInstanceValue.removeInstance(o.runtimeInstance),o.removeParent(this._parentViewModel))},r.prototype.removeInstanceAt=function(o){this._viewModelInstanceValue.removeInstanceAt(o)},r.prototype.instanceAt=function(o){var l=this._viewModelInstanceValue.instanceAt(o);if(l!=null){var h=new we(l,this._parentViewModel);return h}return null},r.prototype.swap=function(o,l){this._viewModelInstanceValue.swap(o,l)},r.prototype.internalHandleCallback=function(o){o()},r}(le),fe=function(s){re(r,s);function r(o,l){return s.call(this,o,l)||this}return Object.defineProperty(r.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(o){this._viewModelInstanceValue.value=o},enumerable:!1,configurable:!0}),r.prototype.rgb=function(o,l,h){this._viewModelInstanceValue.rgb(o,l,h)},r.prototype.rgba=function(o,l,h,b){this._viewModelInstanceValue.argb(b,o,l,h)},r.prototype.argb=function(o,l,h,b){this._viewModelInstanceValue.argb(o,l,h,b)},r.prototype.alpha=function(o){this._viewModelInstanceValue.alpha(o)},r.prototype.opacity=function(o){this._viewModelInstanceValue.alpha(Math.round(Math.max(0,Math.min(1,o))*255))},r.prototype.internalHandleCallback=function(o){o(this.value)},r}(le),at=function(s){re(r,s);function r(o,l){return s.call(this,o,l)||this}return Object.defineProperty(r.prototype,"value",{set:function(o){var l;this._viewModelInstanceValue.value((l=o==null?void 0:o.nativeImage)!==null&&l!==void 0?l:null)},enumerable:!1,configurable:!0}),r.prototype.internalHandleCallback=function(o){o()},r}(le),gt=function(s){re(r,s);function r(o,l){return s.call(this,o,l)||this}return Object.defineProperty(r.prototype,"value",{set:function(o){var l;this._viewModelInstanceValue.value((l=o==null?void 0:o.nativeArtboard)!==null&&l!==void 0?l:null)},enumerable:!1,configurable:!0}),r.prototype.internalHandleCallback=function(o){o()},r}(le),Lt=function(s){return H(void 0,void 0,void 0,function(){var r,o,l;return c(this,function(h){switch(h.label){case 0:return r=new Request(s),[4,fetch(r)];case 1:return o=h.sent(),[4,o.arrayBuffer()];case 2:return l=h.sent(),[2,l]}})})},Se=function(s){return typeof s=="string"?[s]:s instanceof Array?s:[]},Ct={EventManager:A,TaskQueueManager:g},nt=function(s){return H(void 0,void 0,void 0,function(){var r,o,l;return c(this,function(h){switch(h.label){case 0:return r=new Promise(function(b){return ge.getInstance(function(E){E.decodeAudio(s,b)})}),[4,r];case 1:return o=h.sent(),l=new ne.AudioWrapper(o),ne.finalizationRegistry.register(l,o),[2,l]}})})},yt=function(s){return H(void 0,void 0,void 0,function(){var r,o,l;return c(this,function(h){switch(h.label){case 0:return r=new Promise(function(b){return ge.getInstance(function(E){E.decodeImage(s,b)})}),[4,r];case 1:return o=h.sent(),l=new ne.ImageWrapper(o),ne.finalizationRegistry.register(l,o),[2,l]}})})},Mt=function(s){return H(void 0,void 0,void 0,function(){var r,o,l;return c(this,function(h){switch(h.label){case 0:return r=new Promise(function(b){return ge.getInstance(function(E){E.decodeFont(s,b)})}),[4,r];case 1:return o=h.sent(),l=new ne.FontWrapper(o),ne.finalizationRegistry.register(l,o),[2,l]}})})}})(),ze})())}(mn)),mn.exports}var kr;function ui(){return kr||(kr=1,function(Ie){Object.defineProperty(Ie,"__esModule",{value:!0});var T=oi(),Ne=si();function Ft(d){return d&&typeof d=="object"&&"default"in d?d:{default:d}}var ke=Ft(T),ze=function(){return ze=Object.assign||function(d){for(var _,A=1,g=arguments.length;A<g;A++)for(var p in _=arguments[A])Object.prototype.hasOwnProperty.call(_,p)&&(d[p]=_[p]);return d},ze.apply(this,arguments)};function ve(d,_){var A={};for(var g in d)Object.prototype.hasOwnProperty.call(d,g)&&_.indexOf(g)<0&&(A[g]=d[g]);if(d!=null&&typeof Object.getOwnPropertySymbols=="function"){var p=0;for(g=Object.getOwnPropertySymbols(d);p<g.length;p++)_.indexOf(g[p])<0&&Object.prototype.propertyIsEnumerable.call(d,g[p])&&(A[g[p]]=d[g[p]])}return A}function ee(d,_,A,g){return new(A||(A=Promise))(function(p,k){function R(D){try{I(g.next(D))}catch(C){k(C)}}function L(D){try{I(g.throw(D))}catch(C){k(C)}}function I(D){var C;D.done?p(D.value):(C=D.value,C instanceof A?C:new A(function(U){U(C)})).then(R,L)}I((g=g.apply(d,[])).next())})}function Z(d,_){var A,g,p,k,R={label:0,sent:function(){if(1&p[0])throw p[1];return p[1]},trys:[],ops:[]};return k={next:L(0),throw:L(1),return:L(2)},typeof Symbol=="function"&&(k[Symbol.iterator]=function(){return this}),k;function L(I){return function(D){return function(C){if(A)throw new TypeError("Generator is already executing.");for(;R;)try{if(A=1,g&&(p=2&C[0]?g.return:C[0]?g.throw||((p=g.return)&&p.call(g),0):g.next)&&!(p=p.call(g,C[1])).done)return p;switch(g=0,p&&(C=[2&C[0],p.value]),C[0]){case 0:case 1:p=C;break;case 4:return R.label++,{value:C[1],done:!1};case 5:R.label++,g=C[1],C=[0];continue;case 7:C=R.ops.pop(),R.trys.pop();continue;default:if(p=R.trys,!((p=p.length>0&&p[p.length-1])||C[0]!==6&&C[0]!==2)){R=0;continue}if(C[0]===3&&(!p||C[1]>p[0]&&C[1]<p[3])){R.label=C[1];break}if(C[0]===6&&R.label<p[1]){R.label=p[1],p=C;break}if(p&&R.label<p[2]){R.label=p[2],R.ops.push(C);break}p[2]&&R.ops.pop(),R.trys.pop();continue}C=_.call(d,R)}catch(U){C=[6,U],g=0}finally{A=p=0}if(5&C[0])throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}([I,D])}}}function ne(d){var _=d||re(),A=T.useState(_),g=A[0],p=A[1];return T.useEffect(function(){if(typeof window<"u"&&"matchMedia"in window){var k=function(){var L=d||re();p(L)},R=window.matchMedia("screen and (resolution: ".concat(g,"dppx)"));return R.hasOwnProperty("addEventListener")?R.addEventListener("change",k):R.addListener(k),function(){R.hasOwnProperty("removeEventListener")?R.removeEventListener("change",k):R.removeListener(k)}}},[g,d]),g}function re(){var d=typeof window<"u"&&typeof window.devicePixelRatio=="number"?window.devicePixelRatio:1;return Math.min(Math.max(1,d),3)}var te=function(){function d(){}return d.prototype.observe=function(){},d.prototype.unobserve=function(){},d.prototype.disconnect=function(){},d}(),H=globalThis.ResizeObserver||te,c=globalThis.ResizeObserver!==void 0,Fe=!c;function Ce(d,_){_===void 0&&(_=!0);var A=T.useState({width:0,height:0}),g=A[0],p=A[1];T.useEffect(function(){if(typeof window<"u"&&_){var D=function(){p({width:window.innerWidth,height:window.innerHeight})};return Fe&&(D(),window.addEventListener("resize",D)),function(){return window.removeEventListener("resize",D)}}},[]);var k,R,L,I=T.useRef(new H((k=function(D){c&&p({width:D[D.length-1].contentRect.width,height:D[D.length-1].contentRect.height})},R=0,L=0,function(){for(var D=this,C=[],U=0;U<arguments.length;U++)C[U]=arguments[U];clearTimeout(L),L=window.setTimeout(function(){return k.apply(D,C)},R)})));return T.useEffect(function(){var D=I.current;if(_){var C=d.current;return d.current&&c&&D.observe(d.current),function(){D.disconnect(),C&&c&&D.unobserve(C)}}D.disconnect()},[d,I]),g}var Ue={useDevicePixelRatio:!0,fitCanvasToArtboardHeight:!1,useOffscreenRenderer:!0,shouldResizeCanvasToContainer:!0};function de(d){return Object.assign({},Ue,d)}function ue(d){var _=d.riveLoaded,A=_!==void 0&&_,g=d.canvasElem,p=d.containerRef,k=d.options,R=k===void 0?{}:k,L=d.onCanvasHasResized,I=d.artboardBounds,D=de(R),C=T.useState({height:0,width:0}),U=C[0],ae=U.height,ce=U.width,se=C[1],Y=T.useState({height:0,width:0}),we=Y[0],le=we.height,Ve=we.width,Me=Y[1],he=T.useState(!0),z=he[0],oe=he[1],Oe=D.fitCanvasToArtboardHeight,fe=D.shouldResizeCanvasToContainer,at=D.useDevicePixelRatio,gt=D.customDevicePixelRatio,Lt=Ce(p,fe),Se=ne(gt),Ct=I??{},nt=Ct.maxX,yt=Ct.maxY,Mt=T.useCallback(function(){var s,r,o,l,h=(r=(s=p.current)===null||s===void 0?void 0:s.clientWidth)!==null&&r!==void 0?r:0,b=(l=(o=p.current)===null||o===void 0?void 0:o.clientHeight)!==null&&l!==void 0?l:0;return Oe&&I?{width:h,height:h*(I.maxY/I.maxX)}:{width:h,height:b}},[p,Oe,nt,yt]);T.useEffect(function(){if(fe&&p.current&&A){var s=Mt(),r=s.width,o=s.height,l=!1;if(g){var h=r!==ce||o!==ae;if(D.fitCanvasToArtboardHeight&&h&&(p.current.style.height=o+"px",l=!0),D.useDevicePixelRatio){if(h||r*Se!==Ve||o*Se!==le){var b=Se*r,E=Se*o;g.width=b,g.height=E,g.style.width=r+"px",g.style.height=o+"px",Me({width:b,height:E}),l=!0}}else h&&(g.width=r,g.height=o,Me({width:r,height:o}),l=!0);se({width:r,height:o})}L&&(z||l)&&L&&L(),z&&oe(!1)}},[g,p,Lt,Se,Mt,z,oe,le,Ve,ae,ce,L,fe,Oe,at,A]),T.useEffect(function(){Me({width:0,height:0})},[g])}var Ee,ge=function(){function d(){}return d.prototype.observe=function(){},d.prototype.unobserve=function(){},d.prototype.disconnect=function(){},d}(),ye=globalThis.IntersectionObserver||ge,Le=function(){function d(){var _=this;this.elementsMap=new Map,this.onObserved=function(A){A.forEach(function(g){var p=_.elementsMap.get(g.target);p&&p(g)})},this.observer=new ye(this.onObserved)}return d.prototype.registerCallback=function(_,A){this.observer.observe(_),this.elementsMap.set(_,A)},d.prototype.removeCallback=function(_){this.observer.unobserve(_),this.elementsMap.delete(_)},d}(),xe=function(){return Ee||(Ee=new Le),Ee};function je(d){var _=d.setContainerRef,A=d.setCanvasRef,g=d.className,p=g===void 0?"":g,k=d.style,R=d.children,L=ve(d,["setContainerRef","setCanvasRef","className","style","children"]),I=ze({width:"100%",height:"100%"},k);return ke.default.createElement("div",ze({ref:_,className:p},!p&&{style:I}),ke.default.createElement("canvas",ze({ref:A,style:{verticalAlign:"top",width:0,height:0}},L),R))}function j(d,_){_===void 0&&(_={});var A=T.useState(null),g=A[0],p=A[1],k=T.useRef(null),R=T.useRef(null),L=T.useState(null),I=L[0],D=L[1],C=!!d,U=de(_),ae=ne(),ce=T.useCallback(function(){if(I){if(I.layout&&I.layout.fit===Ne.Fit.Layout&&g){var z=ae*I.layout.layoutScaleFactor;I.devicePixelRatioUsed=ae,I.artboardWidth=(g==null?void 0:g.width)/z,I.artboardHeight=(g==null?void 0:g.height)/z}I.startRendering(),I.resizeToCanvas()}},[I,ae]);ue({riveLoaded:!!I,canvasElem:g,containerRef:k,options:U,onCanvasHasResized:ce,artboardBounds:I==null?void 0:I.bounds});var se=T.useCallback(function(z){z===null&&g&&(g.height=0,g.width=0),p(z)},[]);T.useEffect(function(){if(g&&d){var z,oe=I!=null;if(I==null){var Oe=U.useOffscreenRenderer,fe=d.onRiveReady,at=ve(d,["onRiveReady"]);z=new Ne.Rive(ze(ze({useOffscreenRenderer:Oe},at),{canvas:g})),R.current!=null&&R.current.cleanup(),R.current=z,z.on(Ne.EventType.Load,function(){oe=!0,fe&&fe(z),g?D(z):z.cleanup()})}return function(){oe||z==null||z.cleanup()}}},[g,C,I]);var Y=T.useCallback(function(z){k.current=z},[]),we={observe:T.useCallback(function(z,oe){xe().registerCallback(z,oe)},[]),unobserve:T.useCallback(function(z){xe().removeCallback(z)},[])},le=we.observe,Ve=we.unobserve;T.useEffect(function(){var z,oe=!1,Oe=function(){if(g&&oe){var fe=g.getBoundingClientRect();fe.width>0&&fe.height>0&&fe.top<(window.innerHeight||document.documentElement.clientHeight)&&fe.bottom>0&&fe.left<(window.innerWidth||document.documentElement.clientWidth)&&fe.right>0&&(I==null||I.startRendering(),oe=!1)}};return g&&U.shouldUseIntersectionObserver!==!1&&le(g,function(fe){fe.isIntersecting?I&&I.startRendering():I&&I.stopRendering(),oe=!fe.isIntersecting,clearTimeout(z),fe.isIntersecting||fe.boundingClientRect.width!==0||(z=setTimeout(Oe,10))}),function(){g&&Ve(g)}},[le,Ve,I,g,U.shouldUseIntersectionObserver]),T.useEffect(function(){return function(){I&&(I.cleanup(),D(null))}},[I,g]),T.useEffect(function(){return function(){R.current!=null&&R.current.cleanup()}},[]);var Me=d==null?void 0:d.animations;T.useEffect(function(){I&&Me&&(I.isPlaying?(I.stop(I.animationNames),I.play(Me)):I.isPaused&&(I.stop(I.animationNames),I.pause(Me)))},[Me,I]);var he=T.useCallback(function(z){return ke.default.createElement(je,ze({setContainerRef:Y,setCanvasRef:se},z))},[se,Y]);return{canvas:g,container:k.current,setCanvasRef:se,setContainerRef:Y,rive:I,RiveComponent:he}}function x(d,_,A){var g=T.useState(null),p=g[0],k=g[1],R=T.useState(A.defaultValue),L=R[0],I=R[1],D=T.useState(null),C=D[0],U=D[1],ae=T.useRef(null),ce=T.useRef(d),se=T.useRef(A);T.useEffect(function(){se.current=A},[A]);var Y=T.useCallback(function(){var Me=ae.current,he=ce.current,z=se.current;if(!Me||!he)return k(null),I(z.defaultValue),U(null),function(){};var oe=z.getProperty(Me,he);if(oe){k(oe),I(z.getValue(oe)),z.getExtendedData&&U(z.getExtendedData(oe));var Oe=function(){I(z.getValue(oe)),z.getExtendedData&&U(z.getExtendedData(oe)),z.onPropertyEvent&&z.onPropertyEvent()};return oe.on(Oe),function(){oe.off(Oe)}}return function(){}},[]);T.useEffect(function(){return ae.current=_,ce.current=d,Y()},[_,d,Y]);var we=T.useCallback(function(Me){if(p&&ae.current===_)try{return Me(p),void(se.current.getExtendedData&&U(se.current.getExtendedData(p)))}catch{}if(ae.current)try{var he=se.current.getProperty(ae.current,ce.current);he&&(k(he),Me(he),se.current.getExtendedData&&U(se.current.getExtendedData(he)))}catch{}},[p,_]),le=T.useMemo(function(){return se.current.buildPropertyOperations(we)},[we]),Ve=ze({value:L},le);return A.getExtendedData&&(Ve.extendedData=C),Ve}Ie.default=function(d){var _=d.src,A=d.artboard,g=d.animations,p=d.stateMachines,k=d.layout,R=d.useOffscreenRenderer,L=R===void 0||R,I=d.shouldDisableRiveListeners,D=I!==void 0&&I,C=d.shouldResizeCanvasToContainer,U=C===void 0||C,ae=d.automaticallyHandleEvents,ce=ae!==void 0&&ae,se=d.children,Y=ve(d,["src","artboard","animations","stateMachines","layout","useOffscreenRenderer","shouldDisableRiveListeners","shouldResizeCanvasToContainer","automaticallyHandleEvents","children"]),we=j({src:_,artboard:A,animations:g,layout:k,stateMachines:p,autoplay:!0,shouldDisableRiveListeners:D,automaticallyHandleEvents:ce},{useOffscreenRenderer:L,shouldResizeCanvasToContainer:U}).RiveComponent;return ke.default.createElement(we,ze({},Y),se)},Ie.useResizeCanvas=ue,Ie.useRive=j,Ie.useRiveFile=function(d){var _=this,A=T.useState(null),g=A[0],p=A[1],k=T.useState("idle"),R=k[0],L=k[1];return T.useEffect(function(){var I=null;return ee(_,void 0,void 0,function(){return Z(this,function(D){try{L("loading"),(I=new Ne.RiveFile(d)).init(),I.on(Ne.EventType.Load,function(){I==null||I.getInstance(),p(I),L("success")}),I.on(Ne.EventType.LoadError,function(){L("failed")}),p(I)}catch(C){console.error(C),L("failed")}return[2]})}),function(){I==null||I.cleanup()}},[d.src,d.buffer]),{riveFile:g,status:R}},Ie.useStateMachineInput=function(d,_,A,g){var p=T.useState(null),k=p[0],R=p[1];return T.useEffect(function(){function L(){if(d&&_&&A||R(null),d&&_&&A){var I=d.stateMachineInputs(_);if(I){var D=I.find(function(C){return C.name===A});g!==void 0&&D&&(D.value=g),R(D||null)}}else R(null)}L(),d&&d.on(Ne.EventType.Load,function(){L()})},[d]),k},Ie.useViewModel=function(d,_){var A=_??{},g=A.name,p=A.useDefault,k=p!==void 0&&p,R=T.useState(null),L=R[0],I=R[1];return T.useEffect(function(){function D(){var C;if(d){var U=null;U=g!=null?((C=d.viewModelByName)===null||C===void 0?void 0:C.call(d,g))||null:d.defaultViewModel()||null,I(U)}else I(null)}return D(),d&&d.on(Ne.EventType.Load,D),function(){d&&d.off(Ne.EventType.Load,D)}},[d,g,k]),L},Ie.useViewModelInstance=function(d,_){var A=_??{},g=A.name,p=A.useDefault,k=p!==void 0&&p,R=A.useNew,L=R!==void 0&&R,I=A.rive,D=T.useState(null),C=D[0],U=D[1];return T.useEffect(function(){var ae,ce,se;if(d){var Y=null;Y=g!=null?d.instanceByName(g)||null:k?((ae=d.defaultInstance)===null||ae===void 0?void 0:ae.call(d))||null:L?((ce=d.instance)===null||ce===void 0?void 0:ce.call(d))||null:((se=d.defaultInstance)===null||se===void 0?void 0:se.call(d))||null,U(Y),I&&Y&&I.viewModelInstance!==Y&&I.bindViewModelInstance(Y)}else U(null)},[d,g,k,L,I]),C},Ie.useViewModelInstanceArtboard=function(d,_){return{setValue:x(d,_,{getProperty:T.useCallback(function(A,g){return A.artboard(g)},[]),getValue:T.useCallback(function(){},[]),defaultValue:null,buildPropertyOperations:T.useCallback(function(A){return{setValue:function(g){A(function(p){p.value=g})}}},[])}).setValue}},Ie.useViewModelInstanceBoolean=function(d,_){var A=x(d,_,{getProperty:T.useCallback(function(g,p){return g.boolean(p)},[]),getValue:T.useCallback(function(g){return g.value},[]),defaultValue:null,buildPropertyOperations:T.useCallback(function(g){return{setValue:function(p){g(function(k){k.value=p})}}},[])});return{value:A.value,setValue:A.setValue}},Ie.useViewModelInstanceColor=function(d,_){var A=x(d,_,{getProperty:T.useCallback(function(g,p){return g.color(p)},[]),getValue:T.useCallback(function(g){return g.value},[]),defaultValue:null,buildPropertyOperations:T.useCallback(function(g){return{setValue:function(p){g(function(k){k.value=p})},setRgb:function(p,k,R){g(function(L){L.rgb(p,k,R)})},setRgba:function(p,k,R,L){g(function(I){I.rgba(p,k,R,L)})},setAlpha:function(p){g(function(k){k.alpha(p)})},setOpacity:function(p){g(function(k){k.opacity(p)})}}},[])});return{value:A.value,setValue:A.setValue,setRgb:A.setRgb,setRgba:A.setRgba,setAlpha:A.setAlpha,setOpacity:A.setOpacity}},Ie.useViewModelInstanceEnum=function(d,_){var A=x(d,_,{getProperty:T.useCallback(function(g,p){return g.enum(p)},[]),getValue:T.useCallback(function(g){return g.value},[]),defaultValue:null,getExtendedData:T.useCallback(function(g){return g.values},[]),buildPropertyOperations:T.useCallback(function(g){return{setValue:function(p){g(function(k){k.value=p})}}},[])});return{value:A.value,values:A.extendedData||[],setValue:A.setValue}},Ie.useViewModelInstanceImage=function(d,_){return{setValue:x(d,_,{getProperty:T.useCallback(function(A,g){return A.image(g)},[]),getValue:T.useCallback(function(){},[]),defaultValue:null,buildPropertyOperations:T.useCallback(function(A){return{setValue:function(g){A(function(p){p.value=g})}}},[])}).setValue}},Ie.useViewModelInstanceList=function(d,_){var A,g=T.useState(0)[1],p=x(d,_,{getProperty:T.useCallback(function(k,R){return k.list(R)},[]),getValue:T.useCallback(function(k){return k.length},[]),defaultValue:null,onPropertyEvent:function(){g(function(k){return k+1})},buildPropertyOperations:T.useCallback(function(k){return{addInstance:function(R){k(function(L){return L.addInstance(R)})},addInstanceAt:function(R,L){var I=!1;return k(function(D){I=D.addInstanceAt(R,L)}),I},removeInstance:function(R){k(function(L){return L.removeInstance(R)})},removeInstanceAt:function(R){k(function(L){return L.removeInstanceAt(R)})},getInstanceAt:function(R){var L=null;return k(function(I){L=I.instanceAt(R)}),L},swap:function(R,L){k(function(I){return I.swap(R,L)})}}},[])});return{length:(A=p.value)!==null&&A!==void 0?A:0,addInstance:p.addInstance,addInstanceAt:p.addInstanceAt,removeInstance:p.removeInstance,removeInstanceAt:p.removeInstanceAt,getInstanceAt:p.getInstanceAt,swap:p.swap}},Ie.useViewModelInstanceNumber=function(d,_){var A=x(d,_,{getProperty:T.useCallback(function(g,p){return g.number(p)},[]),getValue:T.useCallback(function(g){return g.value},[]),defaultValue:null,buildPropertyOperations:T.useCallback(function(g){return{setValue:function(p){g(function(k){k.value=p})}}},[])});return{value:A.value,setValue:A.setValue}},Ie.useViewModelInstanceString=function(d,_){var A=x(d,_,{getProperty:T.useCallback(function(g,p){return g.string(p)},[]),getValue:T.useCallback(function(g){return g.value},[]),defaultValue:null,buildPropertyOperations:T.useCallback(function(g){return{setValue:function(p){g(function(k){k.value=p})}}},[])});return{value:A.value,setValue:A.setValue}},Ie.useViewModelInstanceTrigger=function(d,_,A){var g=(A??{}).onTrigger;return{trigger:x(d,_,{getProperty:T.useCallback(function(p,k){return p.trigger(k)},[]),getValue:T.useCallback(function(){},[]),defaultValue:null,onPropertyEvent:g,buildPropertyOperations:T.useCallback(function(p){return{trigger:function(){p(function(k){k.trigger()})}}},[])}).trigger}},Object.keys(Ne).forEach(function(d){d==="default"||Ie.hasOwnProperty(d)||Object.defineProperty(Ie,d,{enumerable:!0,get:function(){return Ne[d]}})})}(Vn)),Vn}var ci=ui();export{ci as d};
//# sourceMappingURL=index-D17hYsCh.js.map
